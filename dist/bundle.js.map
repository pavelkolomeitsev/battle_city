{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://battle_city/./src/classes/BangAnimation.ts","webpack://battle_city/./src/classes/Map.ts","webpack://battle_city/./src/classes/Player.ts","webpack://battle_city/./src/classes/SparkleAnimation.ts","webpack://battle_city/./src/classes/Vehicle.ts","webpack://battle_city/./src/classes/enemies/EnemyVehicle.ts","webpack://battle_city/./src/classes/enemies/GroupOfEnemies.ts","webpack://battle_city/./src/classes/enemies/Radar.ts","webpack://battle_city/./src/classes/enemies/Turret.ts","webpack://battle_city/./src/classes/shells/GroupOfShells.ts","webpack://battle_city/./src/classes/shells/Shell.ts","webpack://battle_city/./src/game.ts","webpack://battle_city/./src/scenes/BootScene.ts","webpack://battle_city/./src/scenes/GameScene.ts","webpack://battle_city/./src/scenes/PreloadScene.ts","webpack://battle_city/./src/utils/LoadingBar.ts","webpack://battle_city/./src/utils/utils.ts","webpack://battle_city/webpack/bootstrap","webpack://battle_city/webpack/before-startup","webpack://battle_city/webpack/startup","webpack://battle_city/webpack/after-startup"],"sourcesContent":["import { BANG_ANIMATION, StartPosition } from \"../utils/utils\";\r\n\r\nexport default class BangAnimation extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n    \r\n    constructor(scene: Phaser.Scene, position: StartPosition, textureType: string) {\r\n        super(scene, position.x, position.y, textureType);\r\n        this._scene = scene;\r\n        this._scene.add.existing(this);\r\n        this.bangAnimation();\r\n    }\r\n\r\n    private bangAnimation(): void {\r\n        this.play(BANG_ANIMATION);\r\n        this.once(Phaser.Animations.Events.ANIMATION_COMPLETE, () => this.destroy(), this);\r\n    }\r\n\r\n    public static generateBang(scene: Phaser.Scene, position: StartPosition): void {\r\n        new BangAnimation(scene, position, \"explosion1\");\r\n    }\r\n}","import { GROUND_FRICTION, ROADS_FRICTION, StartPosition } from \"../utils/utils\";\r\nimport Radar from \"./enemies/Radar\";\r\n\r\nexport default class Map {\r\n    private _scene: Phaser.Scene = null;\r\n    private _tileset: Phaser.Tilemaps.Tileset = null;\r\n    public tilemap: Phaser.Tilemaps.Tilemap = null;\r\n    private _defenceArea: Phaser.Geom.Rectangle = null;\r\n    private _baseArea: Phaser.Geom.Rectangle = null;\r\n    private _checkZone: Phaser.Geom.Rectangle = null;\r\n    public boxes: Phaser.GameObjects.Sprite[] = [];\r\n    public stones: Phaser.GameObjects.Sprite[] = [];\r\n\r\n    constructor(scene: Phaser.Scene) {\r\n        this._scene = scene;\r\n        this.init();\r\n        this.create();\r\n    }\r\n\r\n    init(): void {\r\n        // create a tilemap object\r\n        this.tilemap = this._scene.make.tilemap({ key: \"tilemap\" });\r\n        // add images to tilemap\r\n        // 1 param look in \"tilemap.json\" prop tilesets - name\r\n        this._tileset = this.tilemap.addTilesetImage(\"tilemap\", \"tileset\", 64, 64, 0, 0);\r\n    }\r\n\r\n    create(): void {\r\n        this.createLayers();\r\n        this.createCollisions();\r\n        this.createAreas();\r\n    }\r\n    \r\n    private createLayers(): void {\r\n        // create 2 layers\r\n        this.tilemap.createLayer(\"ground\", this._tileset);\r\n        this.tilemap.createLayer(\"road\", this._tileset);\r\n    }\r\n\r\n    private createCollisions(): void {\r\n        // first param - name of object`s layer in tilemap\r\n        // second param - callback function, which called for every image in tileset\r\n        this.tilemap.findObject(\"collisions\", collisionObject => {\r\n            // we have to cast implicitly\r\n            // collisionObject - GameObject, but we need Sprite!\r\n            const castedObject: Phaser.GameObjects.Sprite = collisionObject as Phaser.GameObjects.Sprite;\r\n            let sprite: Phaser.GameObjects.Sprite = new Phaser.GameObjects.Sprite(this._scene, castedObject.x, castedObject.y, \"objects\", \"crateWood\");\r\n            this._scene.add.existing(sprite);\r\n            this._scene.physics.add.existing(sprite, true); // true -> to make it static\r\n            sprite.body.enable = true;\r\n            this.boxes.push(sprite);\r\n        });\r\n\r\n        this.tilemap.findObject(\"stones\", gameObject => {\r\n            const castedObject: Phaser.GameObjects.Sprite = gameObject as Phaser.GameObjects.Sprite;\r\n            // gameObject.name should be the same in \"objects.json\" and tilemap.json files\r\n            const sprite: Phaser.GameObjects.Sprite = new Phaser.GameObjects.Sprite(this._scene, castedObject.x + castedObject.width / 2, castedObject.y - castedObject.height / 2, \"objects\", gameObject.name);\r\n            this._scene.add.existing(sprite);\r\n            this._scene.physics.add.existing(sprite, true); // true -> to make it static\r\n            sprite.body.enable = true;\r\n            this.stones.push(sprite);\r\n        });\r\n    }\r\n\r\n    private createAreas(): void {\r\n        let array: Phaser.Types.Tilemaps.TiledObject[] = this.tilemap.filterObjects(\"defence_area\", checkpoint => checkpoint.name === \"defence_area\");\r\n        // create rectangle phaser object\r\n        array.forEach((item: Phaser.Types.Tilemaps.TiledObject) => {\r\n            this._defenceArea = new Phaser.Geom.Rectangle(item.x, item.y, item.width, item.height);\r\n        });\r\n\r\n        array = this.tilemap.filterObjects(\"base_area\", checkpoint => checkpoint.name === \"base_area\");\r\n        array.forEach((item: Phaser.Types.Tilemaps.TiledObject) => {\r\n            this._baseArea = new Phaser.Geom.Rectangle(item.x, item.y, item.width, item.height);\r\n        });\r\n        \r\n        array = this.tilemap.filterObjects(\"enemies\", checkpoint => checkpoint.name === \"check_zone\");\r\n        array.forEach((item: Phaser.Types.Tilemaps.TiledObject) => {\r\n            this._checkZone = new Phaser.Geom.Rectangle(item.x, item.y, item.width, item.height);\r\n        });\r\n        array = null;\r\n    }\r\n\r\n    public getPlayer(): Phaser.Types.Tilemaps.TiledObject {\r\n        // find a player object in tilemap\r\n        return this.tilemap.findObject(\"player\", playerObject => playerObject.name === \"player\");\r\n    }\r\n\r\n    public getTurretPosition(): StartPosition {\r\n        const turret: Phaser.Types.Tilemaps.TiledObject = this.tilemap.findObject(\"enemies\", playerObject => playerObject.name === \"turret\");\r\n        const position: StartPosition = {x: turret.x, y: turret.y};\r\n        return position;\r\n    }\r\n\r\n    public getRadarPosition(): StartPosition {\r\n        const radar: Phaser.Types.Tilemaps.TiledObject = this.tilemap.findObject(\"enemies\", playerObject => playerObject.name === \"radar\");\r\n        const position: StartPosition = {x: radar.x, y: radar.y};\r\n        return position;\r\n    }\r\n\r\n    public getBasePosition(baseNumber: number): StartPosition {\r\n        const base: Phaser.Types.Tilemaps.TiledObject = this.tilemap.findObject(\"enemies\", playerObject => playerObject.name === `base_${baseNumber}`);\r\n        const position: StartPosition = {x: base?.x, y: base?.y};\r\n        return position;\r\n    }\r\n\r\n    getTileFriction(vehicle: Phaser.GameObjects.Sprite): number {\r\n        for (const roadType in ROADS_FRICTION) {\r\n            // match different road`s types where the car is running now\r\n            // if it`s in ROADS_FRICTION, return appropriate road`s type\r\n            // important!!! road`s types have to match exactly with layers` names in the map\r\n            const tile: Phaser.Tilemaps.Tile = this.tilemap.getTileAtWorldXY(vehicle.x, vehicle.y, false, this._scene.cameras.main, roadType);\r\n            if (tile) return ROADS_FRICTION[roadType];\r\n        }    \r\n        // if it`s not -> return GRASS_FRICTION\r\n        return GROUND_FRICTION;\r\n    }\r\n\r\n    public checkPlayersPosition(radar: Radar, playersTank: Phaser.GameObjects.Sprite): boolean {\r\n        if (radar.active && playersTank.active) {\r\n            return this.isInDefenceArea(playersTank);\r\n        } else if (!radar.active && playersTank.active) {\r\n            return this.isInBaseArea(playersTank);\r\n        } else return false;\r\n    }\r\n\r\n    private isInDefenceArea(playersTank: Phaser.GameObjects.Sprite): boolean {\r\n        // check if player is in the defence area or not\r\n        if (playersTank.active) return this._defenceArea.contains(playersTank.x, playersTank.y);\r\n    }\r\n\r\n    private isInBaseArea(playersTank: Phaser.GameObjects.Sprite): boolean {\r\n        // check if player is in the base area or not\r\n        if (playersTank.active) return this._baseArea.contains(playersTank.x, playersTank.y);\r\n    }\r\n\r\n    public isInCheckZone(enemy: Phaser.GameObjects.Sprite): boolean {\r\n        // check if player is in the base area or not\r\n        if (enemy.active) return this._checkZone.contains(enemy.x, enemy.y);\r\n    }\r\n}","import Vehicle from \"./Vehicle\";\r\nimport Map from \"./Map\";\r\nimport { DIRECTIONS, SPEED, StartPosition, TURNS } from \"../utils/utils\";\r\nimport GroupOfShells from \"./shells/GroupOfShells\";\r\n\r\nexport default class Player extends Vehicle {\r\n    private _velocity: number;\r\n    private _cursor: Phaser.Types.Input.Keyboard.CursorKeys = null;\r\n    public groupOfShells: GroupOfShells = null;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, map: Map, shellTexture: string, enemy: boolean) {\r\n        super(scene, position, atlasName, textureName, map);\r\n        this._velocity = 0;\r\n        this._cursor = this._scene.input.keyboard.createCursorKeys(); // take control from keyboard, exactly up and down keys\r\n        this.groupOfShells = new GroupOfShells(this._scene.physics.world, this._scene, this._map, shellTexture, false);\r\n        // const area = new Phaser.Geom.Rectangle(this.x, this.y, 400, 400);\r\n        this.setSize(400, 400);\r\n    }\r\n\r\n    protected get direction(): number {\r\n        let direction = DIRECTIONS.NONE;\r\n\r\n        if (this._cursor.up.isDown) direction = DIRECTIONS.FORWARD;\r\n        else if (this._cursor.down.isDown) direction = DIRECTIONS.BACKWARD;\r\n        \r\n        return direction;\r\n    }\r\n\r\n    // set the vehicle`s speed\r\n    protected get velocity(): number {\r\n        const vehicleSpeed = Math.abs(this._velocity); // make the speed absolute, without negative meaning\r\n        const maxSpeed = this.getMaxSpeed();\r\n        // if the player clicks on the key Up or Down and\r\n        // current vehicle`s speed is less than max speed (10)\r\n        // increase the vehicle`s speed by multipling acceleration with direction, which can be negative or positive\r\n\r\n        if (this.direction && vehicleSpeed < maxSpeed) {\r\n            this._velocity += this.direction;\r\n        }\r\n        else if ((this.direction && vehicleSpeed > maxSpeed) || (!this.direction && vehicleSpeed > 0)) { // if the player doesn`t click on the key Up or Down and\r\n            this._velocity -= this._velocity; // current vehicle`s speed is more than max speed (10) ->\r\n            // decrease the vehicle`s speed by multipling acceleration with previous direction, which can be negative or positive\r\n        }\r\n        return this._velocity;\r\n    }\r\n\r\n    protected get turn(): number {\r\n        let turn = TURNS.NONE;\r\n\r\n        if (this._cursor.right.isDown) turn = TURNS.RIGHT;\r\n        else if (this._cursor.left.isDown) turn = TURNS.LEFT;\r\n        \r\n        return turn;\r\n    }\r\n\r\n    protected getMaxSpeed(): number {\r\n        return SPEED.BASIC * this._map.getTileFriction(this);\r\n    }\r\n\r\n    // set the vehicle`s angle, when the vehicle is turning to the right or to the left\r\n    public getAngle(): number {\r\n        return this.angle + this.turn;\r\n    }\r\n\r\n    private getVelocityFromAngle(): Phaser.Math.Vector2{ // get sprite`s speed with account of sprite`s angle\r\n        const vector2 = new Phaser.Math.Vector2();\r\n        // vector2 дает нам правильное смещение картинки/спрайта по оси х/у\r\n        // первый параметр - текущий угол картинки (по умолчанию 90 град. то есть вправо). Машинка смотрит вверх, поэтому нужно подправить угол\r\n        // второй параметр - ускорение картинки (положительное/отрицатильное). То есть или вперед, или назад\r\n        return vector2.setToPolar(this.rotation - Math.PI/2, this.velocity);\r\n    }\r\n\r\n    public fire(): void {\r\n        if (this.groupOfShells) {\r\n            this.groupOfShells.createFire(this);\r\n        }\r\n    }\r\n\r\n    public move(): void {\r\n        // the vehicle is moving with account of turn`s angle\r\n        this.setAngle(this.getAngle());\r\n        const velocity = this.getVelocityFromAngle();\r\n        this.body?.setVelocity(velocity.x, velocity.y);\r\n\r\n        if (this._cursor.space.isDown && this) this.fire();\r\n    }\r\n\r\n    public setAlive(status: boolean): void {\r\n        this.body.enable = status;\r\n        this.setVisible(status);\r\n        this.setActive(status);\r\n    }\r\n}","import { SPARKLE_ANIMATION, StartPosition } from \"../utils/utils\";\r\n\r\nexport default class SparkleAnimation extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n    \r\n    constructor(scene: Phaser.Scene, position: StartPosition, textureType: string) {\r\n        super(scene, position.x, position.y, textureType);\r\n        this._scene = scene;\r\n        this._scene.add.existing(this);\r\n        this.sparkleAnimation();\r\n    }\r\n\r\n    private sparkleAnimation(): void {\r\n        this.play(SPARKLE_ANIMATION);\r\n        this.once(Phaser.Animations.Events.ANIMATION_COMPLETE, () => this.destroy(), this);\r\n    }\r\n\r\n    public static generateBang(scene: Phaser.Scene, position: StartPosition): void {\r\n        new SparkleAnimation(scene, position, \"sparkle1\");\r\n    }\r\n}","import { StartPosition } from \"../utils/utils\";\r\nimport Map from \"./Map\";\r\n\r\nexport default class Vehicle extends Phaser.GameObjects.Sprite {\r\n    protected _scene: Phaser.Scene = null;\r\n    protected _map: Map = null;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, map: Map) {\r\n        super(scene, position.x, position.y, atlasName, textureName);\r\n        this._scene = scene;\r\n        this._map = map;\r\n        this.init();\r\n    }\r\n    \r\n    protected init() {\r\n        this._scene.add.existing(this); // add sprite to the scene\r\n        this._scene.physics.add.existing(this); // add sprite as physic object to Phaser engine\r\n        this.body.enable = true; // the physic body of \"dragon\" will be available for physic impacts\r\n    }\r\n\r\n    public fire(): void {}\r\n}","import { StartPosition, DIRECTION } from \"../../utils/utils\";\r\nimport BangAnimation from \"../BangAnimation\";\r\nimport Map from \"../Map\";\r\nimport Player from \"../Player\";\r\nimport GroupOfShells from \"../shells/GroupOfShells\";\r\nimport Shell from \"../shells/Shell\";\r\nimport SparkleAnimation from \"../SparkleAnimation\";\r\nimport Vehicle from \"../Vehicle\";\r\n\r\nexport default class EnemyVehicle extends Vehicle {\r\n    private _vehicleSpeed: number = 0;\r\n    private _timer: Phaser.Time.TimerEvent = null;\r\n    private _player: Player = null;\r\n    private _groupOfShells: GroupOfShells;\r\n    public isAppear: boolean = true;\r\n    public direction: string = DIRECTION.DOWN;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, map: Map, player: Player) {\r\n        super(scene, position, atlasName, textureName, map);\r\n        this._vehicleSpeed = 70;\r\n        this._player = player;\r\n        this.direction = \"down\";\r\n        this._groupOfShells = new GroupOfShells(this._scene.physics.world, this._scene, this._map, \"bulletDark1_outline\");\r\n        this._timer = this._scene.time.addEvent({\r\n            delay: 4000,\r\n            loop: true,\r\n            callback: this.changeDirection,\r\n            callbackScope: this\r\n        });\r\n        // enemy shoots player and boxes\r\n        this._scene.physics.add.overlap([this._player, ...this._map.boxes], this._groupOfShells, this.shellsPlayerCollision, null, this);\r\n        this._scene.physics.add.overlap(this._map.stones, this._groupOfShells, this.shellsStoneCollision, null, this);\r\n        this._scene.events.on(\"update\", this.fire, this);\r\n    }\r\n\r\n    public get velocity(): number {\r\n        return this.getMaxSpeed();\r\n    }\r\n\r\n    protected getMaxSpeed(): number {\r\n        return this._vehicleSpeed * this._map.getTileFriction(this);\r\n    }\r\n\r\n    public changeDirection(): void {\r\n        if (this.isAppear) this.isAppear = false;\r\n        const [x, y, angle] = this.getVehiclesDirection();\r\n        this.body?.setVelocity(x, y); // set direction\r\n        this.angle = angle; // set correct sprite`s angle\r\n    }\r\n\r\n    private getVehiclesDirection(): [number, number, number] { // x, y, angle\r\n        const direction: number = Math.floor(Math.random() * 4) + 1; // get random value between 1 and 4\r\n        switch (direction) {\r\n            case 1:\r\n                this.direction = DIRECTION.UP;\r\n                return [0, -this.velocity, 180]; // go up\r\n            case 2:\r\n                this.direction = DIRECTION.RIGHT;\r\n                return [this.velocity, 0, -90]; // go right\r\n            case 3:\r\n                this.direction = DIRECTION.DOWN;\r\n                return [0, this.velocity, 0]; // go down\r\n            case 4:\r\n                this.direction = DIRECTION.LEFT;\r\n                return [-this.velocity, 0, 90]; // go left\r\n            default:\r\n                this.direction = DIRECTION.DOWN;\r\n                return [0, this.velocity, 0];\r\n        }\r\n    }\r\n\r\n    public moveOut(): void {\r\n        this.body?.setVelocity(0, this.velocity);\r\n    }\r\n\r\n    public fire(): void {\r\n        if (this._groupOfShells) {\r\n            this._groupOfShells.createFire(this);\r\n        }\r\n        if ((Phaser.Math.Distance.BetweenPoints(this, this._player) < 300) && this.body) {\r\n            this.body.stop();\r\n            const angle = Phaser.Math.Angle.Between(this.x, this.y, this._player.x, this._player.y);\r\n            this.rotation = angle - Math.PI / 2; // Math.PI / 2 - trick to turn tank`s barrel oposite to the player\r\n        }\r\n    }\r\n\r\n    private shellsPlayerCollision(target: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const position: StartPosition = { x: shell.x, y: shell.y };\r\n        BangAnimation.generateBang(this._scene, position);\r\n        shell.setAlive(false);\r\n        target.destroy();\r\n    }\r\n\r\n    private shellsStoneCollision(target: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const vector: Phaser.Math.Vector2 = this._scene.physics.velocityFromAngle(shell.angle + 270, -20); // +270 - trick to set sparkle just before the stone\r\n        const position: StartPosition = { x: shell.x + vector.x, y: shell.y + vector.y };\r\n        SparkleAnimation.generateBang(this._scene, position);\r\n        shell.setAlive(false);\r\n    }\r\n}","import Map from \"../Map\";\r\nimport EnemyVehicle from \"./EnemyVehicle\";\r\nimport { DIRECTION, handleDirection, StartPosition } from \"../../utils/utils\";\r\nimport Player from \"../Player\";\r\n\r\nexport default class GroupOfEnemies extends Phaser.Physics.Arcade.Group {\r\n    private _scene: Phaser.Scene = null;\r\n    private _map: Map = null;\r\n    private _timer: Phaser.Time.TimerEvent = null;\r\n    private _enemiesAmount: number = 0;\r\n    private _createdEnemies: number = 0;\r\n    private _player: Player = null;\r\n    public counter: number = 0;\r\n\r\n    constructor(world: Phaser.Physics.Arcade.World, scene: Phaser.Scene, map: Map, enemiesAmount: number, player: Player) {\r\n        super(world, scene);\r\n        this._scene = scene;\r\n        this._map = map;\r\n        this._enemiesAmount = enemiesAmount;\r\n        this._player = player;\r\n        this._timer = this._scene.time.addEvent({ // add new enemy every 3 seconds\r\n            delay: 3000,\r\n            loop: true,\r\n            callback: this.addEnemy,\r\n            callbackScope: this\r\n        });\r\n        // prevent enemy`s overlapping with each other\r\n        this._scene.physics.add.collider(this, this, this.handleEnemyVehicleCollision, null, this);\r\n        this._scene.events.on(\"update\", this.update, this); // prevent enemy`s moving out of restricted zone\r\n    }\r\n\r\n    private addEnemy(): void {\r\n        if (this.counter < 6) {\r\n            this._createdEnemies < this._enemiesAmount ? this.createEnemy() : this._timer?.remove();\r\n        }\r\n    }\r\n\r\n    private createEnemy(): void {\r\n        // let enemy: EnemyVehicle = this.getFirstDead();\r\n        const baseNumber: number = Math.floor(Math.random() * 2) + 1;\r\n        const position: StartPosition = this._map.getBasePosition(baseNumber); // there are two places on the map where enemies appear\r\n        \r\n        const enemy: EnemyVehicle = new EnemyVehicle(this._scene, position, \"objects\", \"tank_sand\", this._map, this._player);\r\n        this.add(enemy);\r\n\r\n        enemy.moveOut();\r\n        ++this._createdEnemies;\r\n        ++this.counter;\r\n    }\r\n\r\n    private handleEnemyVehicleCollision(firstEnemy: EnemyVehicle, secondEnemy: EnemyVehicle): void {\r\n        handleDirection(firstEnemy);\r\n        handleDirection(secondEnemy);\r\n        firstEnemy.changeDirection();\r\n        secondEnemy.body.stop();\r\n    }\r\n\r\n    private update(): void {\r\n        if (this.children.size > 0) {\r\n            const array: EnemyVehicle[] = this.children.getArray() as EnemyVehicle[];\r\n            for (let i = 0; i < this.children.size; i++) {\r\n                if (!array[i].isAppear && this._map.isInCheckZone(array[i])) {\r\n                    array[i].body.y += 30;\r\n                    array[i].changeDirection();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import { RADAR_ANIMATION, StartPosition } from \"../../utils/utils\";\r\n\r\nexport default class Radar extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string) {\r\n        super(scene, position.x, position.y, atlasName, textureName);\r\n        this._scene = scene;\r\n        this.init();\r\n        this.runRadar();\r\n    }\r\n\r\n    private init(): void {\r\n        this._scene.add.existing(this); // add sprite to the scene\r\n        this._scene.physics.add.existing(this); // add sprite as physic object to Phaser engine\r\n        this.body.enable = true; // the physic body of \"dragon\" will be available for physic impacts\r\n        this.body.setImmovable(true);\r\n    }\r\n\r\n    private runRadar(): void {\r\n        this.play(RADAR_ANIMATION);\r\n    }\r\n}","import { StartPosition } from \"../../utils/utils\";\r\nimport GroupOfShells from \"../shells/GroupOfShells\";\r\nimport Map from \"../Map\";\r\nimport Player from \"../Player\";\r\n\r\nexport default class Turret {\r\n    private _scene: Phaser.Scene = null;\r\n    private _health: number = 0;\r\n    public groupOfShells: GroupOfShells;\r\n    public platform: Phaser.GameObjects.Sprite = null;\r\n    public turret: Phaser.GameObjects.Sprite = null;\r\n    public isFiring: boolean = true;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, map: Map, shellTexture: string) {\r\n        this._scene = scene;\r\n        this._health = 3;\r\n        this.init(position, map, shellTexture);\r\n    }\r\n\r\n    private init(position: StartPosition, map: Map, shellTexture: string): void {\r\n        this.platform = new Phaser.GameObjects.Sprite(this._scene, position.x, position.y, \"objects\", \"platform\");\r\n        this._scene.add.existing(this.platform);\r\n        this._scene.physics.add.existing(this.platform);\r\n        this.platform.body.enable = true;\r\n        this.platform.body.setImmovable(true);\r\n        this.turret = new Phaser.GameObjects.Sprite(this._scene, position.x, position.y, \"objects\", \"turret\");\r\n        this._scene.add.existing(this.turret);\r\n        this._scene.physics.add.existing(this.turret);\r\n        this.turret.body.enable = true;\r\n        this.groupOfShells = new GroupOfShells(this._scene.physics.world, this._scene, map, shellTexture);\r\n    }\r\n\r\n    public runTurret(player: Player, isPlayerNear: boolean): void {\r\n        isPlayerNear ? this.watchAndFire(player) : this.watch(player);\r\n    }\r\n\r\n    private watch(player: Player): void {\r\n        this.getCorrectAngle(player);\r\n    }\r\n\r\n    private watchAndFire(player: Player): void {\r\n        this.getCorrectAngle(player);\r\n        this.fire();\r\n    }\r\n\r\n    private getCorrectAngle(player: Player): void {\r\n        if (this.turret && player) {\r\n            const angle = Phaser.Math.Angle.Between(this.turret.x, this.turret.y, player.x, player.y);\r\n            this.turret.rotation = angle - Math.PI / 2; // Math.PI / 2 - trick to turn turret oposite to the tank\r\n        }\r\n    }\r\n\r\n    private fire(): void {\r\n        if (this.groupOfShells && this.isFiring) this.groupOfShells.createFire(this.turret);\r\n    }\r\n\r\n    public destroyTurret(): void {\r\n        --this._health;\r\n        // this.turret.body.enable = false;\r\n        // this.turret.setVisible(false);\r\n        // this.turret.setActive(false);\r\n        if (this._health > 0) {\r\n            this.turret.setTexture(\"objects\", `turret_${this._health}`);\r\n        } else {\r\n            this.turret.destroy();\r\n            this.turret = null;\r\n            this.platform.destroy();\r\n            this.platform = null;\r\n            this._scene = null;\r\n            this.groupOfShells = null;\r\n        }\r\n        // this.platform.body.enable = false;\r\n        // this.platform.setVisible(false);\r\n        // this.platform.setActive(false);\r\n    }\r\n}","import { StartPosition } from \"../../utils/utils\";\r\nimport Map from \"../Map\";\r\nimport Shell from \"./Shell\";\r\n\r\nexport default class GroupOfShells extends Phaser.Physics.Arcade.Group {\r\n    private _scene: Phaser.Scene = null;\r\n    private _map: Map = null;\r\n    private _texture: string = \"\";\r\n    private _enemy: boolean = false;\r\n    private _direction: number = 1;\r\n    private _nextShoot: number = 0;\r\n\r\n    constructor(world: Phaser.Physics.Arcade.World, scene: Phaser.Scene, map: Map, texture: string, enemy: boolean = true) {\r\n        super(world, scene);\r\n        this._scene = scene;\r\n        this._map = map;\r\n        this._texture = texture;\r\n        this._enemy = enemy;\r\n        this._direction = enemy ? 1 : -1;\r\n    }\r\n\r\n    // mechanism for sprites` reusing for better performance\r\n    public createFire(parentSprite: Phaser.GameObjects.Sprite): void {\r\n        if (this._nextShoot > this._scene.time.now) return; // to prevent toans of fires\r\n\r\n        let shell: Shell = this.getFirstDead();\r\n        const side: number = this._enemy ? -35 : 30;\r\n        \r\n        if (!shell) {\r\n            const vector: Phaser.Math.Vector2 = this._scene.physics.velocityFromAngle(parentSprite.angle + 270, side); // +270 - trick to set shell just before barrel\r\n            const position: StartPosition = { x: parentSprite.x + vector.x, y: parentSprite.y + vector.y };\r\n            shell = new Shell(this._scene, position, \"objects\", this._texture, parentSprite, this._map);\r\n            this.add(shell);\r\n        } else {\r\n            const vector: Phaser.Math.Vector2 = this._scene.physics.velocityFromAngle(parentSprite.angle + 270, side); // +270 - trick to set shell just before barrel\r\n            const position: StartPosition = { x: parentSprite.x + vector.x - 6, y: parentSprite.y + vector.y - 6 };\r\n            shell.body.x = position.x;\r\n            shell.body.y = position.y;\r\n            shell.setAlive(true);\r\n        }\r\n        shell.flyOut(this._direction);\r\n\r\n        this._nextShoot = this._scene.time.now + 500; // instead one fire per 0.5 second\r\n    }\r\n}","import { StartPosition, SPEED } from \"../../utils/utils\";\r\nimport Map from \"../Map\";\r\n\r\nexport default class Shell extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n    private _parentSprite: Phaser.GameObjects.Sprite = null;\r\n    private _map: Map = null;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, parentSprite: Phaser.GameObjects.Sprite, map: Map) {\r\n        super(scene, position.x, position.y, atlasName, textureName);\r\n        this._scene = scene;\r\n        this._parentSprite = parentSprite;\r\n        this._map = map;\r\n        this.init();\r\n        this._scene.events.on(\"update\", this.update, this);\r\n    }\r\n\r\n    protected init() {\r\n        this._scene.add.existing(this); // add sprite to the scene\r\n        this._scene.physics.add.existing(this); // add sprite as physic object to Phaser engine\r\n        this.body.enable = true; // the physic body of \"dragon\" will be available for physic impacts\r\n    }\r\n\r\n    // check if shell is out of boarders\r\n    public update(): void {\r\n        if (this.active && (this.body.x < -20 ||\r\n            this.body.x > this._map.tilemap.widthInPixels + 20 ||\r\n            this.body.y < -20 ||\r\n            this.body.y > this._map.tilemap.heightInPixels + 20)) this.setAlive(false);\r\n    }\r\n\r\n    public setAlive(status: boolean): void {\r\n        this.body.enable = status;\r\n        this.setVisible(status);\r\n        this.setActive(status);\r\n        // if (!status) this.emit(\"object_killed\");\r\n    }\r\n\r\n    // direction has to be among 1 and -1. 1 for enemies, -1 for player\r\n    public flyOut(direction: number) {\r\n        const vector: Phaser.Math.Vector2 = new Phaser.Math.Vector2();\r\n        vector.setToPolar(this._parentSprite.rotation + (direction * Math.PI / 2)); // (this._tank.vehicle.rotation - Math.PI) - correct side from where shell throws, 30 - distance from tank`s core and shell\r\n        this.angle = this._parentSprite.angle; // tank and shell sprites should be on the same direction\r\n        this.body.setVelocity(vector.x * SPEED.FASTEST * 3, vector.y * SPEED.FASTEST * 3); // shell`s speed\r\n    }\r\n}","import BootScene from \"./scenes/BootScene\";\r\nimport PreloadScene from \"./scenes/PreloadScene\";\r\nimport GameScene from \"./scenes/GameScene\";\r\n\r\nconst config = {\r\n    type: Phaser.AUTO,\r\n    width: 1280, // set according to background image size / map`s size!!!\r\n    height: 750, // set according to background image size / map`s size!!!\r\n    scene: [\r\n        new BootScene(),\r\n        new PreloadScene(),\r\n        // new StartScene(),\r\n        new GameScene()\r\n    ],\r\n    scale: {\r\n        mode: Phaser.Scale.FIT, // auto scaling of all sprites\r\n        autoCenter: Phaser.Scale.CENTER_BOTH // canvas centering in the center of the screen\r\n    },\r\n    physics: {\r\n        default: \"arcade\",\r\n        arcade: { debug: false} // if true -> shows objects` frames\r\n        // default: \"matter\",\r\n        // matter: {\r\n        //     debug: false,\r\n        //     gravity: { x: 0, y: 0 }\r\n        // }\r\n    }\r\n};\r\n\r\nconst game = new Phaser.Game(config);","export default class BootScene extends Phaser.Scene {\r\n    constructor() {super({key: \"boot-scene\"});}\r\n\r\n    protected preload(): void {\r\n        this.load.image(\"background\", \"assets/images/background.png\");\r\n    }\r\n\r\n    protected create(): void {\r\n        this.scene.start(\"preload-scene\");\r\n    }\r\n}","import BangAnimation from \"../classes/BangAnimation\";\r\nimport Map from \"../classes/Map\";\r\nimport Player from \"../classes/Player\";\r\nimport Radar from \"../classes/enemies/Radar\";\r\nimport Shell from \"../classes/shells/Shell\";\r\nimport Turret from \"../classes/enemies/Turret\";\r\nimport { BANG_ANIMATION, handleDirection, RADAR_ANIMATION, SPARKLE_ANIMATION, StartPosition, TANKS } from \"../utils/utils\";\r\nimport GroupOfEnemies from \"../classes/enemies/GroupOfEnemies\";\r\nimport EnemyVehicle from \"../classes/enemies/EnemyVehicle\";\r\nimport SparkleAnimation from \"../classes/SparkleAnimation\";\r\n\r\nexport default class GameScene extends Phaser.Scene {\r\n    private _map: Map = null;\r\n    private _player1: Player = null;\r\n    // testing turret\r\n    private _turret: Turret = null;\r\n    private _radar: Radar = null;\r\n    private _enemies: GroupOfEnemies = null;\r\n    \r\n    constructor() {super({key: \"game-scene\"});}\r\n\r\n    protected preload(): void {\r\n        this.add.sprite(0, 0, \"background\").setOrigin(0);\r\n        this.loadAnimation();\r\n    }\r\n\r\n    protected create(): void {\r\n        this._map = new Map(this);\r\n\r\n        // const vehicle: any = this.getVehicleConfig();\r\n        // add player\r\n        const player = this._map.getPlayer();\r\n        const position: StartPosition = {x: player.x, y: player.y};\r\n        this._player1 = new Player(this, position, \"objects\", \"tank_red\", this._map, \"bulletRed1_outline\", false);\r\n\r\n        // add all enemies\r\n        this._turret = new Turret(this, this._map.getTurretPosition(), this._map, \"bulletDark1_outline\");\r\n        this._radar = new Radar(this, this._map.getRadarPosition(), \"objects\", \"platform1\");\r\n        this._enemies = new GroupOfEnemies(this.physics.world, this, this._map, 20, this._player1);\r\n        this.handleCollisions();\r\n        \r\n        this.cameras.main.setBounds(0, 0, this._map.tilemap.widthInPixels, this._map.tilemap.heightInPixels); // set map`s bounds as camera`s bounds\r\n        this.cameras.main.startFollow(this._player1); // set camera to center on the player`s tank\r\n    }\r\n\r\n    private handleCollisions(): void {\r\n        // player shoots all enemies\r\n        this.physics.add.overlap([this._turret.platform, this._radar], this._player1.groupOfShells, this.shellsEnemiesCollision, null, this);\r\n        this.physics.add.overlap(this._enemies, this._player1.groupOfShells, this.shellsEnemiesCollision, null, this);\r\n\r\n        // player shoots boxes\r\n        this.physics.add.overlap(this._map.boxes, [this._player1.groupOfShells, this._turret.groupOfShells], this.boxesShellsCollision, null, this);\r\n        this.physics.add.overlap(this._map.stones, [this._player1.groupOfShells, this._turret.groupOfShells], this.stonesShellsCollision, null, this);\r\n\r\n        // turret shoots player\r\n        this.physics.add.overlap(this._turret.groupOfShells, this._player1, this.shellsPlayerCollision, null, this);\r\n\r\n        // handle enemies vs simple collision (not move objects)\r\n        this.physics.add.collider([this._turret.platform, this._radar, this._player1, ...this._map.boxes, ...this._map.stones], this._enemies, this.handleEnemiesCollision, null, this);\r\n        this.physics.add.collider([this._turret.platform, this._radar, ...this._enemies.children.getArray(), ...this._map.boxes, ...this._map.stones], this._player1, this.handlePlayerCollision, null, this);\r\n    }\r\n\r\n    private boxesShellsCollision(box: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const position: StartPosition = { x: box.x, y: box.y };\r\n        BangAnimation.generateBang(this, position);\r\n        box.destroy();\r\n        shell.setAlive(false);\r\n    }\r\n\r\n    private stonesShellsCollision(stone: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const vector: Phaser.Math.Vector2 = this.physics.velocityFromAngle(shell.angle + 270, +20); // +270 - trick to set sparkle just before the stone\r\n        const position: StartPosition = { x: shell.x + vector.x, y: shell.y + vector.y };\r\n        SparkleAnimation.generateBang(this, position);\r\n        shell.setAlive(false);\r\n    }\r\n\r\n    private shellsPlayerCollision(shell: Shell, player: Player): void {\r\n        const position: StartPosition = { x: shell.x, y: shell.y };\r\n        BangAnimation.generateBang(this, position);\r\n        shell.setAlive(false);\r\n        player.setAlive(false);\r\n        // this._player1 = null; ?\r\n    }\r\n\r\n    private shellsEnemiesCollision(enemy: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const position: StartPosition = { x: enemy.x, y: enemy.y };\r\n        BangAnimation.generateBang(this, position);\r\n\r\n        if (enemy instanceof Radar) {\r\n            this._radar.destroy();\r\n        } else if (enemy.frame.name === \"platform\") {\r\n            this._turret.destroyTurret();\r\n        } else if (enemy instanceof EnemyVehicle) {\r\n            enemy.scene.events.off(\"update\", enemy.fire, enemy);\r\n            enemy.destroy();\r\n            --this._enemies.counter;\r\n        }\r\n        \r\n        shell.setAlive(false);\r\n    }\r\n\r\n    private handleEnemiesCollision(gameObject: Phaser.GameObjects.Sprite, enemy: EnemyVehicle): void {\r\n        handleDirection(enemy);\r\n        enemy.changeDirection();\r\n    }\r\n\r\n    private handlePlayerCollision(gameObject: Phaser.GameObjects.Sprite, player: Player): void {\r\n        // gameObject.body.setImmovable(true);\r\n        player.body.stop();\r\n    }\r\n\r\n    // see docs -> Scene.Methods\r\n    update(time: number, delta: number): void {\r\n        if (this._player1.active) this._player1.move();\r\n        if (this._turret.turret && this._player1.active) {\r\n            const isPlayerNear: boolean = this._map.checkPlayersPosition(this._radar, this._player1);\r\n            this._turret.runTurret(this._player1, isPlayerNear);\r\n        }\r\n        this.checkMapBounds([this._player1, ...this._enemies.getChildren()]);\r\n    }\r\n\r\n    private getVehicleConfig(): any {\r\n        // config for the first player\r\n        let config: any = { player1: TANKS.RED, player2: TANKS.BLUE };\r\n        // if (this._client && !this._client._isFirst) {\r\n        //     // config for the second player\r\n        //     config = { player1: CARS.BLUE, player2: CARS.RED };\r\n        // }\r\n        return config;\r\n    }\r\n\r\n    private checkMapBounds(vehicles: Phaser.GameObjects.GameObject[]): void {\r\n        if (vehicles && vehicles.length > 0) {\r\n            for (let i = 0; i < vehicles.length; i++) {\r\n                if (!vehicles[i].body) continue;\r\n        \r\n                if (vehicles[i].body.y > this._map.tilemap.heightInPixels - 30) {\r\n                    vehicles[i].body.y = this._map.tilemap.heightInPixels - 30 - 20;\r\n                }\r\n                if (vehicles[i].body.y < 0) {\r\n                    vehicles[i].body.y = 20;\r\n                }\r\n                if (vehicles[i].body.x < 0) {\r\n                    vehicles[i].body.x = 20;\r\n                }\r\n                if (vehicles[i].body.x > this._map.tilemap.widthInPixels - 30) {\r\n                    vehicles[i].body.x = this._map.tilemap.widthInPixels - 30 - 20;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private loadAnimation(): void {\r\n        // to garantee safe and correct loading of animation\r\n        const bangFrames: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            prefix: \"explosion\",\r\n            start: 1,\r\n            end: 5\r\n        });\r\n        this.anims.create({\r\n            key: BANG_ANIMATION,\r\n            frames: bangFrames,\r\n            frameRate: 5,\r\n            duration: 800, // miliseconds\r\n            repeat: 0, // to play animation only once\r\n        });\r\n\r\n        // to garantee safe and correct loading of animation\r\n        const frames: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            prefix: \"platform\",\r\n            start: 1,\r\n            end: 8\r\n        });\r\n        this.anims.create({\r\n            key: RADAR_ANIMATION,\r\n            frames: frames,\r\n            frameRate: 7,\r\n            duration: 1000, // miliseconds\r\n            repeat: -1, // to play animation infinitely\r\n        });\r\n\r\n        // to garantee safe and correct loading of animation\r\n        const sparkleFrame: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            prefix: \"sparkle\",\r\n            start: 1,\r\n            end: 1\r\n        });\r\n        this.anims.create({\r\n            key: SPARKLE_ANIMATION,\r\n            frames: sparkleFrame,\r\n            frameRate: 7,\r\n            duration: 500, // miliseconds\r\n            repeat: 0, // to play animation only once\r\n        });\r\n    }\r\n}","import { LoadingBar } from \"../utils/LoadingBar\";\r\n\r\nexport default class PreloadScene extends Phaser.Scene {\r\n    constructor() {super({key: \"preload-scene\"});}\r\n\r\n    protected preload(): void {\r\n        this.add.sprite(0, 0, \"background\").setOrigin(0);\r\n        new LoadingBar(this);\r\n\r\n        // load images as a tileset\r\n        this.load.spritesheet(\"tileset\", \"assets/images/tilemap.png\", { frameWidth: 64, frameHeight: 64 });\r\n        this.load.tilemapTiledJSON(\"tilemap\", \"assets/images/tilemap.json\");\r\n        this.load.atlas(\"objects\", \"assets/images/objects.png\", \"assets/images/objects.json\");\r\n    }\r\n\r\n    protected create(): void {\r\n        this.scene.start(\"game-scene\");\r\n    }\r\n}","export class LoadingBar {\r\n    private scene: Phaser.Scene;\r\n    private style: any;\r\n    private progressBox: Phaser.GameObjects.Graphics;\r\n    private progressBar: Phaser.GameObjects.Graphics;\r\n\r\n    constructor(scene: Phaser.Scene) {\r\n        this.scene = scene;\r\n        this.style = {\r\n            boxColor: 0xD3D3D3,\r\n            barColor: 0xFFF8DC,\r\n            x: (this.scene.game.config.width) as number / 2 - 450,\r\n            y: (this.scene.game.config.height) as number / 2 + 250,\r\n            width: 900,\r\n            height: 25\r\n        };\r\n        this.progressBox = new Phaser.GameObjects.Graphics(this.scene);\r\n        this.progressBox = this.scene.add.graphics();\r\n        this.progressBar = this.scene.add.graphics();\r\n\r\n        this.showProgressBox();\r\n        this.setEvents();\r\n    }\r\n\r\n    setEvents() {\r\n        this.scene.load.on(\"progress\", this.showProgressBar, this);\r\n        this.scene.load.on(\"complete\", this.onLoadComplete, this);\r\n    }\r\n\r\n    showProgressBox() {\r\n        this.progressBox\r\n            .fillStyle(this.style.boxColor) // grey color\r\n            .fillRect(this.style.x, this.style.y, this.style.width, this.style.height);\r\n    }\r\n\r\n    showProgressBar(value: number) {\r\n        this.progressBar\r\n            .clear()\r\n            .fillStyle(this.style.barColor) // yellow color\r\n            .fillRect(this.style.x, this.style.y, this.style.width * value, this.style.height);\r\n    }\r\n\r\n    onLoadComplete() {\r\n        this.progressBox.destroy();\r\n        this.progressBar.destroy();\r\n    }\r\n}","import EnemyVehicle from \"../classes/enemies/EnemyVehicle\";\r\n\r\nexport enum DIRECTIONS {\r\n    NONE = 0,\r\n    FORWARD = 100,\r\n    BACKWARD = -100\r\n};\r\n\r\nexport enum TURNS {\r\n    NONE = 0,\r\n    RIGHT = 1,\r\n    LEFT = -1\r\n};\r\n\r\nexport enum SPEED {\r\n    BASIC = 150,\r\n    FASTER = 200,\r\n    FASTEST = 300\r\n};\r\n\r\nexport const GROUND_FRICTION = 0.4;\r\nexport const ROADS_FRICTION = {\r\n    road: 1\r\n};\r\n\r\nexport const TANKS = {\r\n    RED: {\r\n        sprite: \"tank_red\",\r\n        position: \"player\"\r\n    },\r\n    BLUE: {\r\n        sprite: \"tank_green\",\r\n        position: \"player\"\r\n    }\r\n};\r\n\r\nexport type StartPosition = {\r\n    x: number,\r\n    y: number\r\n};\r\n\r\nexport const BANG_ANIMATION: string = \"BANG_ANIMATION\";\r\nexport const RADAR_ANIMATION: string = \"RADAR_ANIMATION\";\r\nexport const SPARKLE_ANIMATION: string = \"SPARKLE_ANIMATION\";\r\n\r\nexport default class Checkpoint extends Phaser.Geom.Rectangle{\r\n    public index: string;\r\n    constructor(x: number, y: number, width: number, height: number) {\r\n        super(x, y, width, height);\r\n    }\r\n}\r\n\r\nexport enum DIRECTION {\r\n    RIGHT = \"RIGHT\",\r\n    DOWN = \"DOWN\",\r\n    LEFT = \"LEFT\",\r\n    UP = \"UP\"\r\n};\r\n\r\nexport function handleDirection(enemy: EnemyVehicle): void {\r\n    switch (enemy.direction) {\r\n        case DIRECTION.DOWN:\r\n            enemy.body.y -= 10;\r\n            break;\r\n        case DIRECTION.LEFT:\r\n            enemy.body.x += 10;\r\n            break;\r\n        case DIRECTION.UP:\r\n            enemy.body.y += 10;\r\n            break;\r\n        case DIRECTION.RIGHT:\r\n            enemy.body.x -= 10;\r\n            break;\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/game.ts\");\n",""],"names":[],"sourceRoot":""}