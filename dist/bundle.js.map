{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://battle_city/./src/classes/Map.ts","webpack://battle_city/./src/classes/animation/BangAnimation.ts","webpack://battle_city/./src/classes/animation/SparkleAnimation.ts","webpack://battle_city/./src/classes/animation/XpointsAnimation.ts","webpack://battle_city/./src/classes/shells/GroupOfShells.ts","webpack://battle_city/./src/classes/shells/Shell.ts","webpack://battle_city/./src/classes/vehicles/Vehicle.ts","webpack://battle_city/./src/classes/vehicles/enemies/EnemyVehicle.ts","webpack://battle_city/./src/classes/vehicles/enemies/GroupOfEnemies.ts","webpack://battle_city/./src/classes/vehicles/player/Player.ts","webpack://battle_city/./src/classes/vehicles/player/Player2.ts","webpack://battle_city/./src/game.ts","webpack://battle_city/./src/scenes/BootScene.ts","webpack://battle_city/./src/scenes/GameOverScene.ts","webpack://battle_city/./src/scenes/HelpScene.ts","webpack://battle_city/./src/scenes/Level_1.ts","webpack://battle_city/./src/scenes/PostStartScene.ts","webpack://battle_city/./src/scenes/PostlevelScene.ts","webpack://battle_city/./src/scenes/PrelevelScene.ts","webpack://battle_city/./src/scenes/PreloadScene.ts","webpack://battle_city/./src/scenes/StartScene.ts","webpack://battle_city/./src/utils/LoadingBar.ts","webpack://battle_city/./src/utils/utils.ts","webpack://battle_city/webpack/bootstrap","webpack://battle_city/webpack/before-startup","webpack://battle_city/webpack/startup","webpack://battle_city/webpack/after-startup"],"sourcesContent":["import { GROUND_FRICTION, FRICTIONS, StartPosition } from \"../utils/utils\";\r\nimport Radar from \"./vehicles/enemies/Radar\";\r\n\r\nexport default class Map {\r\n    private _scene: Phaser.Scene = null;\r\n    private _tileset: Phaser.Tilemaps.Tileset = null;\r\n    private _defenceArea: Phaser.Geom.Rectangle = null;\r\n    private _baseArea: Phaser.Geom.Rectangle = null;\r\n    private _level: string = \"\";\r\n    public tilemap: Phaser.Tilemaps.Tilemap = null;\r\n    public explosiveObjects: Phaser.GameObjects.Sprite[] = [];\r\n    public stones: Phaser.GameObjects.Sprite[] = [];\r\n\r\n    constructor(scene: Phaser.Scene, level: number) {\r\n        this._scene = scene;\r\n        this._level = `level${level}/`; // value should be the same as in tilemap app -> group of layers\r\n        this.init();\r\n        this.create();\r\n    }\r\n\r\n    init(): void {\r\n        // create a tilemap object\r\n        this.tilemap = this._scene.make.tilemap({ key: \"tilemap\" });\r\n        // add images to tilemap\r\n        // 1 param look in \"tilemap.json\" prop tilesets - name\r\n        this._tileset = this.tilemap.addTilesetImage(\"terrain\", \"tileset\", 64, 64, 0, 0);\r\n    }\r\n\r\n    create(): void {\r\n        this.createLayers();\r\n        this.createExplosiveStaticLayer();\r\n        this.createStonesLayer();\r\n        this.createTreesLayer();\r\n    }\r\n    \r\n    private createLayers(): void {\r\n        // create 2 layers\r\n        this.tilemap.createLayer(this._level + \"grass\", this._tileset); // \"level1/grass\"\r\n        this.tilemap.createLayer(this._level + \"road\", this._tileset);\r\n    }\r\n\r\n    private createExplosiveStaticLayer(): void {\r\n        // first param - name of object`s layer in tilemap\r\n        // second param - callback function, which called for every image in tileset\r\n        this.tilemap.findObject(this._level + \"explosive_static\", collisionObject => {\r\n            // we have to cast implicitly\r\n            // collisionObject - GameObject, but we need Sprite!\r\n            const castedObject: Phaser.GameObjects.Sprite = collisionObject as Phaser.GameObjects.Sprite;\r\n            let sprite: Phaser.GameObjects.Sprite = new Phaser.GameObjects.Sprite(this._scene, castedObject.x + castedObject.width / 2, castedObject.y - castedObject.height / 2, \"objects\", collisionObject.name);\r\n            this._scene.add.existing(sprite);\r\n            this._scene.physics.add.existing(sprite, true); // true -> to make it static\r\n            sprite.body.enable = true;\r\n            this.explosiveObjects.push(sprite);\r\n        });\r\n    }\r\n\r\n    private createStonesLayer(): void {\r\n        this.tilemap.findObject(this._level + \"stones\", gameObject => {\r\n            const castedObject: Phaser.GameObjects.Sprite = gameObject as Phaser.GameObjects.Sprite;\r\n            // gameObject.name should be the same in \"objects.json\" and tilemap.json files\r\n            const sprite: Phaser.GameObjects.Sprite = new Phaser.GameObjects.Sprite(this._scene, castedObject.x + castedObject.width / 2, castedObject.y - castedObject.height / 2, \"objects\", gameObject.name);\r\n            this._scene.add.existing(sprite);\r\n            this._scene.physics.add.existing(sprite, true); // true -> to make it static\r\n            sprite.body.enable = true;\r\n            this.stones.push(sprite);\r\n        });\r\n    }\r\n\r\n    private createTreesLayer(): void {\r\n        this.tilemap.findObject(this._level + \"trees\", gameObject => {\r\n            const castedObject: Phaser.GameObjects.Sprite = gameObject as Phaser.GameObjects.Sprite;\r\n            // gameObject.name should be the same in \"objects.json\" and tilemap.json files\r\n            const sprite: Phaser.GameObjects.Sprite = new Phaser.GameObjects.Sprite(this._scene, castedObject.x + castedObject.width / 2, castedObject.y - castedObject.height / 2, \"objects\", gameObject.name);\r\n            sprite.depth = 10;\r\n            this._scene.add.existing(sprite);\r\n            this._scene.physics.add.existing(sprite, false);\r\n        });\r\n    }\r\n\r\n    // private createAreas(): void {\r\n    //     let array: Phaser.Types.Tilemaps.TiledObject[] = this.tilemap.filterObjects(\"defence_area\", checkpoint => checkpoint.name === \"defence_area\");\r\n    //     // create rectangle phaser object\r\n    //     array.forEach((item: Phaser.Types.Tilemaps.TiledObject) => {\r\n    //         this._defenceArea = new Phaser.Geom.Rectangle(item.x, item.y, item.width, item.height);\r\n    //     });\r\n\r\n    //     array = this.tilemap.filterObjects(\"base_area\", checkpoint => checkpoint.name === \"base_area\");\r\n    //     array.forEach((item: Phaser.Types.Tilemaps.TiledObject) => {\r\n    //         this._baseArea = new Phaser.Geom.Rectangle(item.x, item.y, item.width, item.height);\r\n    //     });\r\n    //     array = null;\r\n    // }\r\n\r\n    public getPlayer(playerNumber: number): Phaser.Types.Tilemaps.TiledObject {\r\n        // find a player object in tilemap\r\n        return this.tilemap.findObject(this._level + \"players\", playerObject => playerObject.name === `player${playerNumber}`);\r\n    }\r\n\r\n    // public getTurretPosition(): StartPosition {\r\n    //     const turret: Phaser.Types.Tilemaps.TiledObject = this.tilemap.findObject(\"enemies\", playerObject => playerObject.name === \"turret\");\r\n    //     const position: StartPosition = {x: turret.x, y: turret.y};\r\n    //     return position;\r\n    // }\r\n\r\n    // public getRadarPosition(): StartPosition {\r\n    //     const radar: Phaser.Types.Tilemaps.TiledObject = this.tilemap.findObject(\"enemies\", playerObject => playerObject.name === \"radar\");\r\n    //     const position: StartPosition = {x: radar.x, y: radar.y};\r\n    //     return position;\r\n    // }\r\n\r\n    public getBasePosition(baseNumber: number): StartPosition {\r\n        const base: Phaser.Types.Tilemaps.TiledObject = this.tilemap.findObject(this._level + \"enemies\", playerObject => playerObject.name === `base_${baseNumber}`);\r\n        const position: StartPosition = {x: base?.x, y: base?.y};\r\n        return position;\r\n    }\r\n\r\n    getTileFriction(vehicle: Phaser.GameObjects.Sprite): number {\r\n        for (const roadType in FRICTIONS) {\r\n            // match different road`s types where the car is running now\r\n            // if it`s in ROADS_FRICTION, return appropriate road`s type\r\n            // important!!! road`s types have to match exactly with layers` names in the map\r\n            const tile: Phaser.Tilemaps.Tile = this.tilemap.getTileAtWorldXY(vehicle.x, vehicle.y, false, this._scene.cameras.main, this._level + roadType);\r\n            if (tile) return FRICTIONS[roadType];\r\n        }    \r\n        // if it`s not -> return GRASS_FRICTION\r\n        return GROUND_FRICTION;\r\n    }\r\n\r\n    public checkPlayersPosition(radar: Radar, playersTank: Phaser.GameObjects.Sprite): boolean {\r\n        if (radar.active && playersTank.active) {\r\n            return this.isInDefenceArea(playersTank);\r\n        } else if (!radar.active && playersTank.active) {\r\n            return this.isInBaseArea(playersTank);\r\n        } else return false;\r\n    }\r\n\r\n    private isInDefenceArea(playersTank: Phaser.GameObjects.Sprite): boolean {\r\n        // check if player is in the defence area or not\r\n        if (playersTank.active) return this._defenceArea.contains(playersTank.x, playersTank.y);\r\n    }\r\n\r\n    private isInBaseArea(playersTank: Phaser.GameObjects.Sprite): boolean {\r\n        // check if player is in the base area or not\r\n        if (playersTank.active) return this._baseArea.contains(playersTank.x, playersTank.y);\r\n    }\r\n}","import { BANG_ANIMATION, StartPosition } from \"../../utils/utils\";\r\n\r\nexport default class BangAnimation extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n    private _bangSound: Phaser.Sound.BaseSound = null;\r\n    \r\n    constructor(scene: Phaser.Scene, position: StartPosition, textureType: string) {\r\n        super(scene, position.x, position.y, textureType);\r\n        this._scene = scene;\r\n        this._scene.add.existing(this);\r\n        this._bangSound = this._scene.sound.add('simpleExplosion', {volume: 0.9});\r\n        this.bangAnimation();\r\n    }\r\n\r\n    private bangAnimation(): void {\r\n        this.play(BANG_ANIMATION);\r\n        this._bangSound.play();\r\n        this.once(Phaser.Animations.Events.ANIMATION_COMPLETE, () => this.destroy(), this);\r\n    }\r\n\r\n    public static generateBang(scene: Phaser.Scene, position: StartPosition): void {\r\n        new BangAnimation(scene, position, \"explosion1\");\r\n    }\r\n}","import { SPARKLE_ANIMATION, StartPosition } from \"../../utils/utils\";\r\n\r\nexport default class SparkleAnimation extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n    \r\n    constructor(scene: Phaser.Scene, position: StartPosition, textureType: string) {\r\n        super(scene, position.x, position.y, textureType);\r\n        this._scene = scene;\r\n        this._scene.add.existing(this);\r\n        this.sparkleAnimation();\r\n    }\r\n\r\n    private sparkleAnimation(): void {\r\n        this.play(SPARKLE_ANIMATION);\r\n        this.once(Phaser.Animations.Events.ANIMATION_COMPLETE, () => this.destroy(), this);\r\n    }\r\n\r\n    public static generateBang(scene: Phaser.Scene, position: StartPosition): void {\r\n        new SparkleAnimation(scene, position, \"sparkle1\");\r\n    }\r\n}","import { StartPosition } from \"../../utils/utils\";\r\n\r\nexport default class XpointsAnimation extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n    \r\n    constructor(scene: Phaser.Scene, position: StartPosition, textureType: string, spriteNumber: number) {\r\n        super(scene, position.x, position.y, textureType);\r\n        this._scene = scene;\r\n        this._scene.add.existing(this);\r\n        this.xpointsAnimation(spriteNumber);\r\n    }\r\n\r\n    private xpointsAnimation(spriteNumber: number): void {\r\n        this.play(`XPOINTS_${spriteNumber}_ANIMATION`);\r\n        this.once(Phaser.Animations.Events.ANIMATION_COMPLETE, () => this.destroy(), this);\r\n    }\r\n\r\n    public static generateAnimation(scene: Phaser.Scene, position: StartPosition, spriteNumber: number): void {\r\n        const texture: string = `${spriteNumber}xp`;\r\n        new XpointsAnimation(scene, position, texture, spriteNumber);\r\n    }\r\n}","import { ENEMY, StartPosition } from \"../../utils/utils\";\r\nimport Map from \"../Map\";\r\nimport Shell from \"./Shell\";\r\n\r\nexport default class GroupOfShells extends Phaser.Physics.Arcade.Group {\r\n    private _scene: Phaser.Scene = null;\r\n    private _map: Map = null;\r\n    private _texture: string = \"\";\r\n    private _enemy: boolean = false;\r\n    private _direction: number = 1;\r\n    private _nextShoot: number = 0;\r\n    private _pauseBetweenShoots: number = 0;\r\n\r\n    constructor(world: Phaser.Physics.Arcade.World, scene: Phaser.Scene, map: Map, texture: string, enemy: boolean = true, experience: number = 0) {\r\n        super(world, scene);\r\n        this._scene = scene;\r\n        this._map = map;\r\n        this._texture = texture;\r\n        this._enemy = enemy;\r\n        this._direction = enemy ? 1 : -1;\r\n        this.setPauseBetweenShoots(experience);\r\n    }\r\n\r\n    // mechanism for sprites` reusing for better performance\r\n    public createFire(parentSprite: Phaser.GameObjects.Sprite): void {\r\n        if (this._nextShoot > this._scene.time.now) return; // to prevent toans of fires\r\n\r\n        let shell: Shell = this.getFirstDead();\r\n        const side: number = this._enemy ? -37 : 40;\r\n        \r\n        if (!shell) {\r\n            const vector: Phaser.Math.Vector2 = this._scene.physics.velocityFromAngle(parentSprite.angle + 270, side); // +270 - trick to set shell just before barrel\r\n            const position: StartPosition = { x: parentSprite.x + vector.x, y: parentSprite.y + vector.y };\r\n            shell = new Shell(this._scene, position, \"objects\", this._texture, parentSprite, this._map);\r\n            this.add(shell);\r\n        } else {\r\n            const vector: Phaser.Math.Vector2 = this._scene.physics.velocityFromAngle(parentSprite.angle + 270, side); // +270 - trick to set shell just before barrel\r\n            const position: StartPosition = { x: parentSprite.x + vector.x - 5, y: parentSprite.y + vector.y - 5};\r\n            shell.body.x = position.x;\r\n            shell.body.y = position.y;\r\n            shell.setAlive(true);\r\n        }\r\n        shell.flyOut(this._direction);\r\n\r\n        this._nextShoot = this._scene.time.now + this._pauseBetweenShoots; // instead one fire per 0.5 second\r\n    }\r\n\r\n    private setPauseBetweenShoots(experience: number): void {\r\n        switch (this._texture) {\r\n            case ENEMY.TANK.SHELL_TYPE:\r\n                this._pauseBetweenShoots = 1200; // enemy`s tank\r\n                break;\r\n            case ENEMY.BMP.SHELL_TYPE:\r\n                this._pauseBetweenShoots = 600; // enemy`s BMP\r\n                break;\r\n            case ENEMY.BTR.SHELL_TYPE:\r\n                this._pauseBetweenShoots = 300; // enemy`s BTR\r\n                break;\r\n            case \"bulletSand1\":\r\n                this._pauseBetweenShoots = 400 - experience; // player`s BMP\r\n                break;\r\n            case \"bulletRed2\":\r\n                this._pauseBetweenShoots = 800 - (experience * 2); // player`s tank\r\n                break;\r\n        }\r\n    }\r\n}","import { StartPosition, SPEED, ENEMY, PLAYER } from \"../../utils/utils\";\r\nimport Map from \"../Map\";\r\nimport Player from \"../vehicles/player/Player\";\r\nimport Player2 from \"../vehicles/player/Player2\";\r\n\r\nexport default class Shell extends Phaser.GameObjects.Sprite {\r\n    private _scene: Phaser.Scene = null;\r\n    private _map: Map = null;\r\n    private _shellSpeed: number = 0;\r\n    private _shellPower: number = 0;\r\n    public parentSprite: Phaser.GameObjects.Sprite = null;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, parentSprite: Phaser.GameObjects.Sprite, map: Map) {\r\n        super(scene, position.x, position.y, atlasName, textureName);\r\n        this._scene = scene;\r\n        this.parentSprite = parentSprite;\r\n        this._map = map;\r\n        this.init(textureName);\r\n        this._scene.events.on(\"update\", this.update, this);\r\n    }\r\n\r\n    protected init(textureName: string) {\r\n        this._scene.add.existing(this); // add sprite to the scene\r\n        this._scene.physics.add.existing(this); // add sprite as physic object to Phaser engine\r\n        this.body.enable = true; // the physic body of \"dragon\" will be available for physic impacts\r\n\r\n        switch (textureName) {\r\n            case ENEMY.BTR.SHELL_TYPE:\r\n                this._shellSpeed = SPEED.FASTER;\r\n                this._shellPower = ENEMY.BTR.SHELL_POWER;\r\n                break;\r\n            case ENEMY.BMP.SHELL_TYPE:\r\n                this._shellSpeed = SPEED.FASTER;\r\n                this._shellPower = ENEMY.BMP.SHELL_POWER;\r\n                break;\r\n            case ENEMY.TANK.SHELL_TYPE:\r\n                this._shellSpeed = SPEED.FASTER;\r\n                this._shellPower = ENEMY.TANK.SHELL_POWER;\r\n                break;\r\n            case PLAYER.BMP.SHELL_TYPE:\r\n                this._shellSpeed = SPEED.FASTEST;\r\n                this._shellPower = PLAYER.BMP.SHELL_POWER;\r\n                break;\r\n            case PLAYER.TANK.SHELL_TYPE:\r\n                this._shellSpeed = SPEED.FASTEST;\r\n                this._shellPower = PLAYER.TANK.SHELL_POWER;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public get damage(): number {\r\n        return this._shellPower;\r\n    }\r\n\r\n    // check if shell is out of boarders\r\n    public update(): void {\r\n        if (this.active && (this.body.x < -20 ||\r\n            this.body.x > this._map.tilemap.widthInPixels + 20 ||\r\n            this.body.y < -20 ||\r\n            this.body.y > this._map.tilemap.heightInPixels + 20)) this.setAlive(false);\r\n    }\r\n\r\n    public setAlive(status: boolean): void {\r\n        this.body.enable = status;\r\n        this.setVisible(status);\r\n        this.setActive(status);\r\n    }\r\n\r\n    // direction has to be among 1 and -1. 1 for enemies, -1 for player\r\n    public flyOut(direction: number) {\r\n        const vector: Phaser.Math.Vector2 = new Phaser.Math.Vector2();\r\n        vector.setToPolar(this.parentSprite.rotation + (direction * Math.PI / 2)); // (this._tank.vehicle.rotation - Math.PI) - correct side from where shell throws, 30 - distance from tank`s core and shell\r\n        this.angle = this.parentSprite.angle; // tank and shell sprites should be on the same direction\r\n        this.body.setVelocity(vector.x * this._shellSpeed, vector.y * this._shellSpeed);\r\n        if (this.parentSprite instanceof Player) (this.parentSprite as Player).shootingSound.play();\r\n    }\r\n}","import { StartPosition } from \"../../utils/utils\";\r\nimport Map from \"../Map\";\r\n\r\nexport default class Vehicle extends Phaser.GameObjects.Sprite {\r\n    protected _scene: Phaser.Scene = null;\r\n    protected _map: Map = null;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, map: Map) {\r\n        super(scene, position.x, position.y, atlasName, textureName);\r\n        this._scene = scene;\r\n        this._map = map;\r\n        this.init();\r\n    }\r\n    \r\n    protected init() {\r\n        this._scene.add.existing(this); // add sprite to the scene\r\n        this._scene.physics.add.existing(this); // add sprite as physic object to Phaser engine\r\n        this.body.enable = true; // the physic body of \"dragon\" will be available for physic impacts\r\n    }\r\n\r\n    public fire(): void {}\r\n}","import { StartPosition, DIRECTION, ENEMY } from \"../../../utils/utils\";\r\nimport BangAnimation from \"../../animation/BangAnimation\";\r\nimport Map from \"../../Map\";\r\nimport Player from \"../player/Player\";\r\nimport GroupOfShells from \"../../shells/GroupOfShells\";\r\nimport Shell from \"../../shells/Shell\";\r\nimport SparkleAnimation from \"../../animation/SparkleAnimation\";\r\nimport Vehicle from \"../Vehicle\";\r\nimport Player2 from \"../player/Player2\";\r\nimport XpointsAnimation from \"../../animation/XpointsAnimation\";\r\n\r\nexport default class EnemyVehicle extends Vehicle {\r\n    private _vehicleSpeed: number = 0;\r\n    private _type: string = \"\";\r\n    private _armour: number = 0;\r\n    private _timer: Phaser.Time.TimerEvent = null;\r\n    private _player1: Player = null;\r\n    private _player2: Player2 = null;\r\n    private _groupOfShells: GroupOfShells;\r\n    public isAppear: boolean = true;\r\n    public direction: string = DIRECTION.DOWN;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, map: Map, player1: Player, player2: Player2 = null) {\r\n        super(scene, position, atlasName, textureName, map);\r\n\r\n        const shellType: string = this.setEnemiesType(textureName);\r\n        this._groupOfShells = new GroupOfShells(this._scene.physics.world, this._scene, this._map, shellType);\r\n        this._timer = this._scene.time.addEvent({\r\n            delay: 4000, // appearing time of next enemy\r\n            loop: true,\r\n            callback: this.changeDirection,\r\n            callbackScope: this\r\n        });\r\n\r\n        this._player1 = player1;\r\n        this._player2 = player2;\r\n        this.direction = DIRECTION.DOWN;\r\n        // enemy shoots players\r\n        this._scene.physics.add.overlap(this._player2 ? [this._player2, this._player1] : this._player1, this._groupOfShells, this.shellsPlayerCollision, null, this);\r\n        // enemy shoots boxes\r\n        this._scene.physics.add.overlap(this._map.explosiveObjects, this._groupOfShells, this.shellsBoxesCollision, null, this);\r\n        this._scene.physics.add.overlap(this._map.stones, this._groupOfShells, this.shellsStoneCollision, null, this);\r\n        this._scene.events.on(\"update\", this.fire, this);\r\n    }\r\n\r\n    private setEnemiesType(textureName: string): string {\r\n        switch (textureName) {\r\n            case \"enemy_btr\": // enemy BTR\r\n                this._type = ENEMY.BTR.TYPE;\r\n                this._vehicleSpeed = ENEMY.BTR.SPEED;\r\n                this._armour = ENEMY.BTR.ARMOUR;\r\n                return ENEMY.BTR.SHELL_TYPE;\r\n            case \"enemy\": // enemy BMP\r\n                this._type = ENEMY.BMP.TYPE;\r\n                this._vehicleSpeed = ENEMY.BMP.SPEED;\r\n                this._armour = ENEMY.BMP.ARMOUR;\r\n                return ENEMY.BMP.SHELL_TYPE;\r\n            case \"enemy_tank\": // enemy tank\r\n                this._type = ENEMY.TANK.TYPE;\r\n                this._vehicleSpeed = ENEMY.TANK.SPEED;\r\n                this._armour = ENEMY.TANK.ARMOUR;\r\n                return ENEMY.TANK.SHELL_TYPE;\r\n        }\r\n    }\r\n\r\n    public destroyEnemy(shell: Shell): boolean {\r\n        this._armour -= shell.damage;\r\n        const id: string = (shell.parentSprite as Player).id;\r\n        switch (this._type) {\r\n            case ENEMY.TANK.TYPE:\r\n                if ((this._armour < 150) && (this._armour >= 80)) {\r\n                    this.setTexture(\"objects\", \"enemy_tank1\");\r\n                } else if ((this._armour < 80) && (this._armour > 0)) {\r\n                    this.setTexture(\"objects\", \"enemy_tank2\");\r\n                } else if (this._armour <= 0) {\r\n                    this._scene.events.off(\"update\", this.fire, this);\r\n                    this.destroy();\r\n                    const position: StartPosition = { x: shell.x, y: shell.y };\r\n                    XpointsAnimation.generateAnimation(this._scene, position, 3);\r\n                    this.calculateExperiencePoints(id, 1.1, ENEMY.TANK.TYPE);\r\n                    return true;\r\n                }\r\n                break;\r\n            case ENEMY.BMP.TYPE:\r\n                if ((this._armour <= 35) && (this._armour > 0)) {\r\n                    this.setTexture(\"objects\", \"enemy_bmp1\");\r\n                } else if (this._armour <= 0) {\r\n                    this._scene.events.off(\"update\", this.fire, this);\r\n                    this.destroy();\r\n                    const position: StartPosition = { x: shell.x, y: shell.y };\r\n                    XpointsAnimation.generateAnimation(this._scene, position, 2);\r\n                    this.calculateExperiencePoints(id, 0.7, ENEMY.BMP.TYPE);\r\n                    return true;\r\n                }       \r\n                break;\r\n            case ENEMY.BTR.TYPE:\r\n                if ((this._armour <= 26) && (this._armour > 0)) {\r\n                    this.setTexture(\"objects\", \"enemy_btr1\");\r\n                } else if (this._armour <= 0) {\r\n                    this._scene.events.off(\"update\", this.fire, this);\r\n                    this.destroy();\r\n                    const position: StartPosition = { x: shell.x, y: shell.y };\r\n                    XpointsAnimation.generateAnimation(this._scene, position, 1);\r\n                    this.calculateExperiencePoints(id, 0.4, ENEMY.BTR.TYPE);\r\n                    return true;\r\n                }       \r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public get velocity(): number {\r\n        return this.getMaxSpeed();\r\n    }\r\n\r\n    protected getMaxSpeed(): number {\r\n        return this._vehicleSpeed * this._map.getTileFriction(this);\r\n    }\r\n\r\n    public changeDirection(): void {\r\n        if (this.isAppear) this.isAppear = false; // first time to allow enemy tank to move out\r\n        const [x, y, angle] = this.getVehiclesDirection();\r\n        this.body?.setVelocity(x, y); // set direction\r\n        this.angle = angle; // set correct sprite`s angle\r\n    }\r\n\r\n    private getVehiclesDirection(): [number, number, number] { // x, y, angle\r\n        const direction: number = Math.floor(Math.random() * 4) + 1; // get random value between 1 and 4\r\n        switch (direction) {\r\n            case 1:\r\n                this.direction = DIRECTION.UP;\r\n                return [0, -this.velocity, 180]; // go up\r\n            case 2:\r\n                this.direction = DIRECTION.RIGHT;\r\n                return [this.velocity, 0, -90]; // go right\r\n            case 3:\r\n                this.direction = DIRECTION.DOWN;\r\n                return [0, this.velocity, 0]; // go down\r\n            case 4:\r\n                this.direction = DIRECTION.LEFT;\r\n                return [-this.velocity, 0, 90]; // go left\r\n            default:\r\n                this.direction = DIRECTION.DOWN;\r\n                return [0, this.velocity, 0];\r\n        }\r\n    }\r\n\r\n    public moveOut(): void {\r\n        this.body?.setVelocity(0, this.velocity * 1.3); // * 1.3 - trick to run out quicker\r\n    }\r\n\r\n    public fire(): void {\r\n        if (this._groupOfShells) {\r\n            this._groupOfShells.createFire(this);\r\n        }\r\n        if (!this._player1) return;\r\n        // if enemy comes close enough to player, it will shoot\r\n        if ((this._type !== ENEMY.TANK.TYPE) && (Phaser.Math.Distance.BetweenPoints(this, this._player1) < 300) && this.body) {\r\n            this.body.stop();\r\n            const angle = Phaser.Math.Angle.Between(this.x, this.y, this._player1.x, this._player1.y);\r\n            this.rotation = angle - Math.PI / 2; // Math.PI / 2 - trick to turn tank`s barrel oposite to the player\r\n        } else if ((this._type === ENEMY.TANK.TYPE) && (Phaser.Math.Distance.BetweenPoints(this, this._player1) < 500) && this.body) {\r\n            this.body.stop();\r\n            const angle = Phaser.Math.Angle.Between(this.x, this.y, this._player1.x, this._player1.y);\r\n            this.rotation = angle - Math.PI / 2; // Math.PI / 2 - trick to turn tank`s barrel oposite to the player\r\n        }\r\n\r\n        if (!this._player2) return;\r\n        if ((this._type !== ENEMY.TANK.TYPE) && (Phaser.Math.Distance.BetweenPoints(this, this._player2) < 300) && this.body) {\r\n            this.body.stop();\r\n            const angle = Phaser.Math.Angle.Between(this.x, this.y, this._player2.x, this._player2.y);\r\n            this.rotation = angle - Math.PI / 2; // Math.PI / 2 - trick to turn tank`s barrel oposite to the player\r\n        } else if ((this._type === ENEMY.TANK.TYPE) && (Phaser.Math.Distance.BetweenPoints(this, this._player2) < 500) && this.body) {\r\n            this.body.stop();\r\n            const angle = Phaser.Math.Angle.Between(this.x, this.y, this._player2.x, this._player2.y);\r\n            this.rotation = angle - Math.PI / 2; // Math.PI / 2 - trick to turn tank`s barrel oposite to the player\r\n        }\r\n    }\r\n\r\n    private shellsPlayerCollision(player: Player, shell: Shell): void {\r\n        const position: StartPosition = { x: player.x, y: player.y };\r\n        BangAnimation.generateBang(this._scene, position);\r\n        shell.setAlive(false);\r\n        player.destroyPlayer(shell);\r\n    }\r\n\r\n    private shellsBoxesCollision(target: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const position: StartPosition = { x: target.x, y: target.y };\r\n        BangAnimation.generateBang(this._scene, position);\r\n        shell.setAlive(false);\r\n        target.destroy();\r\n    }\r\n\r\n    private shellsStoneCollision(target: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const vector: Phaser.Math.Vector2 = this._scene.physics.velocityFromAngle(shell.angle + 270, -20); // +270 - trick to set sparkle just before the stone\r\n        const position: StartPosition = { x: shell.x + vector.x, y: shell.y + vector.y };\r\n        SparkleAnimation.generateBang(this._scene, position);\r\n        shell.setAlive(false);\r\n    }\r\n\r\n    private calculateExperiencePoints(id: string, points: number, enemyType: string): void {\r\n        if (this._player1 && id === \"P1\") {\r\n            this._player1.experience += points;\r\n            this.calculateDestroyedEnemies(this._player1, enemyType);\r\n        } else if (this._player2 && id === \"P2\") {\r\n            this._player2.experience += points;\r\n            this.calculateDestroyedEnemies(this._player2, enemyType);\r\n        }\r\n    }\r\n\r\n    private calculateDestroyedEnemies(player: Player, enemyType: string): void {\r\n        switch (enemyType) {\r\n            case ENEMY.TANK.TYPE:\r\n                player.tanksPerLevel++;\r\n                break;\r\n            case ENEMY.BMP.TYPE:\r\n                player.bmpPerLevel++;\r\n                break;\r\n            case ENEMY.BTR.TYPE:\r\n                player.btrPerLevel++;\r\n                break;\r\n        }\r\n    }\r\n}","import Map from \"../../Map\";\r\nimport EnemyVehicle from \"./EnemyVehicle\";\r\nimport { handleDirection, StartPosition } from \"../../../utils/utils\";\r\nimport Player from \"../player/Player\";\r\nimport Player2 from \"../player/Player2\";\r\n\r\nexport default class GroupOfEnemies extends Phaser.Physics.Arcade.Group {\r\n    private _scene: Phaser.Scene = null;\r\n    private _map: Map = null;\r\n    private _timer: Phaser.Time.TimerEvent = null;\r\n    private _enemies: number[] = [];\r\n    private _player1: Player = null;\r\n    private _player2: Player2 = null;\r\n    private _numberOfBase: number = 0;\r\n    private _maxEnemies: number = 0;\r\n    public counter: number = 0;\r\n\r\n    constructor(world: Phaser.Physics.Arcade.World, scene: Phaser.Scene, map: Map, enemies: number[], maxEnemies: number, numberOfBase: number, player1: Player, player2: Player2 = null) {\r\n        super(world, scene);\r\n        this._scene = scene;\r\n        this._map = map;\r\n        this._enemies = enemies;\r\n        this._maxEnemies = maxEnemies;\r\n        this._player1 = player1;\r\n        this._player2 = player2;\r\n        this._numberOfBase = numberOfBase;\r\n        this._timer = this._scene.time.addEvent({ // add new enemy every 3 seconds\r\n            delay: 3000,\r\n            loop: true,\r\n            callback: this.addEnemy,\r\n            callbackScope: this\r\n        });\r\n        // prevent enemy`s overlapping with each other\r\n        this._scene.physics.add.collider(this, this, this.handleEnemyVehicleCollision, null, this);\r\n    }\r\n\r\n    private addEnemy(): void {\r\n        if (this.counter < this._maxEnemies) { // hold no more than max enemies on the map at one time\r\n            this._enemies.length > 0 ? this.createEnemy() : this._timer?.remove();\r\n        }\r\n    }\r\n\r\n    private createEnemy(): void {\r\n        const baseNumber: number = Math.floor(Math.random() * this._numberOfBase) + 1;\r\n        const position: StartPosition = this._map.getBasePosition(baseNumber); // there are two places on the map where enemies appear\r\n        // get last el from array\r\n        // transform el into texture\r\n        // delete last el from array\r\n        // const enemiesTexture: string = this.getEnemyVehicleTexture(this._enemies[this._enemies.length - 1]);\r\n        const enemiesTexture: string = this.getEnemyVehicleTexture(this._enemies.pop());\r\n        const enemy: EnemyVehicle = new EnemyVehicle(this._scene, position, \"objects\", enemiesTexture, this._map, this._player1, this._player2);\r\n        this.add(enemy);\r\n\r\n        enemy.moveOut();\r\n        ++this.counter;\r\n    }\r\n\r\n    private getEnemyVehicleTexture(index: number): string {\r\n        switch (index) {\r\n            case 1:\r\n                return \"enemy_btr\"; // BTR\r\n            case 2:\r\n                return \"enemy\"; // BMP\r\n            case 3:\r\n                return \"enemy_tank\"; // tank\r\n        }\r\n    }\r\n\r\n    private handleEnemyVehicleCollision(firstEnemy: EnemyVehicle, secondEnemy: EnemyVehicle): void {\r\n        handleDirection(firstEnemy);\r\n        handleDirection(secondEnemy);\r\n        firstEnemy.changeDirection();\r\n        secondEnemy.body.stop();\r\n    }\r\n}","import Vehicle from \"../Vehicle\";\r\nimport Map from \"../../Map\";\r\nimport { PLAYER, PLAYER_SPEED, SPEED, StartPosition, TURNS } from \"../../../utils/utils\";\r\nimport GroupOfShells from \"../../shells/GroupOfShells\";\r\nimport Shell from \"../../shells/Shell\";\r\nimport BangAnimation from \"../../animation/BangAnimation\";\r\nimport SparkleAnimation from \"../../animation/SparkleAnimation\";\r\n\r\nexport default class Player extends Vehicle {\r\n    protected _velocity: number;\r\n    private _cursor: Phaser.Types.Input.Keyboard.CursorKeys = null;\r\n    protected _fire: Phaser.Input.Keyboard.Key = null;\r\n    protected _armour: number = 0;\r\n    protected _vehicleType: string = \"\";\r\n    public shootingSound: Phaser.Sound.BaseSound = null;\r\n    public groupOfShells: GroupOfShells = null;\r\n    public id: string = \"P1\";\r\n    public experience: number = 0;\r\n    public tanksPerLevel: number = 0;\r\n    public bmpPerLevel: number = 0;\r\n    public btrPerLevel: number = 0;\r\n\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, map: Map, shellTexture: string, experience: number) {\r\n        super(scene, position, atlasName, textureName, map);\r\n        this._velocity = 0;\r\n        this._cursor = this._scene.input.keyboard.createCursorKeys(); // take control from keyboard, exactly up and down keys\r\n        this._fire = this._scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.NUMPAD_ZERO);\r\n        this.experience = experience;\r\n        this.groupOfShells = new GroupOfShells(this._scene.physics.world, this._scene, this._map, shellTexture, false, experience); // experience from 0 to 200\r\n        this.setVehicleType(textureName);\r\n        // handle shooting on boxes\r\n        this._scene.physics.add.overlap(this._map.explosiveObjects, this.groupOfShells, this.boxesShellsCollision, null, this);\r\n        // handle shooting on stones\r\n        this._scene.physics.add.overlap(this._map.stones, this.groupOfShells, this.stonesShellsCollision, null, this);\r\n    }\r\n\r\n    protected setVehicleType(textureName: string): void {\r\n        switch (textureName) {\r\n            case \"player_tank\":\r\n                this._vehicleType = \"player_tank\";\r\n                this._armour = PLAYER.TANK.ARMOUR;\r\n                this.shootingSound = this._scene.sound.add('playerTankShooting', {volume: 0.5});\r\n                break;\r\n            case \"player_ifv\":\r\n                this._vehicleType = \"player_ifv\";\r\n                this._armour = PLAYER.BMP.ARMOUR;\r\n                this.shootingSound = this._scene.sound.add('playerIfvShooting', {volume: 0.3});\r\n                break;\r\n        }\r\n    }\r\n\r\n    protected boxesShellsCollision(box: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const position: StartPosition = { x: box.x, y: box.y };\r\n        BangAnimation.generateBang(this._scene, position);\r\n        box.destroy();\r\n        shell.setAlive(false);\r\n    }\r\n\r\n    protected stonesShellsCollision(stone: Phaser.GameObjects.Sprite, shell: Shell): void {\r\n        const vector: Phaser.Math.Vector2 = this._scene.physics.velocityFromAngle(shell.angle + 270, +20); // +270 - trick to set sparkle just before the stone\r\n        const position: StartPosition = { x: shell.x + vector.x, y: shell.y + vector.y };\r\n        SparkleAnimation.generateBang(this._scene, position);\r\n        shell.setAlive(false);\r\n    }\r\n    \r\n    protected get direction(): number {\r\n        let direction = PLAYER_SPEED.NONE;\r\n\r\n        // if (this._cursor.up.isDown) direction = PLAYER_SPEED.FORWARD;\r\n        if (this._cursor.up.isDown) direction = (this._vehicleType === \"player_tank\") ? PLAYER.TANK.SPEED : PLAYER.BMP.SPEED;\r\n        // else if (this._cursor.down.isDown) direction = PLAYER_SPEED.BACKWARD;\r\n        else if (this._cursor.down.isDown) direction = (this._vehicleType === \"player_tank\") ? -PLAYER.TANK.SPEED : -PLAYER.BMP.SPEED;\r\n        \r\n        return direction;\r\n    }\r\n\r\n    // set the vehicle`s speed\r\n    protected get velocity(): number {\r\n        const vehicleSpeed = Math.abs(this._velocity); // make the speed absolute, without negative meaning\r\n        const maxSpeed = this.getMaxSpeed();\r\n        // if the player clicks on the key Up or Down and\r\n        // current vehicle`s speed is less than max speed (10)\r\n        // increase the vehicle`s speed by multipling acceleration with direction, which can be negative or positive\r\n\r\n        if (this.direction && vehicleSpeed < maxSpeed) {\r\n            this._velocity += this.direction;\r\n        }\r\n        else if ((this.direction && vehicleSpeed > maxSpeed) || (!this.direction && vehicleSpeed > 0)) { // if the player doesn`t click on the key Up or Down and\r\n            this._velocity -= this._velocity; // current vehicle`s speed is more than max speed (10) ->\r\n            // decrease the vehicle`s speed by multipling acceleration with previous direction, which can be negative or positive\r\n        }\r\n        return this._velocity;\r\n    }\r\n\r\n    protected get turn(): number {\r\n        let turn = TURNS.NONE;\r\n\r\n        if (this._cursor.right.isDown) turn = TURNS.RIGHT;\r\n        else if (this._cursor.left.isDown) turn = TURNS.LEFT;\r\n        \r\n        return turn;\r\n    }\r\n\r\n    protected getMaxSpeed(): number {\r\n        return SPEED.BASIC * this._map.getTileFriction(this);\r\n    }\r\n\r\n    // set the vehicle`s angle, when the vehicle is turning to the right or to the left\r\n    public getAngle(): number {\r\n        return this.angle + this.turn;\r\n    }\r\n\r\n    protected getVelocityFromAngle(): Phaser.Math.Vector2{ // get sprite`s speed with account of sprite`s angle\r\n        const vector2 = new Phaser.Math.Vector2();\r\n        // vector2 дает нам правильное смещение картинки/спрайта по оси х/у\r\n        // первый параметр - текущий угол картинки (по умолчанию 90 град. то есть вправо). Машинка смотрит вверх, поэтому нужно подправить угол\r\n        // второй параметр - ускорение картинки (положительное/отрицатильное). То есть или вперед, или назад\r\n        return vector2.setToPolar(this.rotation - Math.PI/2, this.velocity);\r\n    }\r\n\r\n    public fire(): void {\r\n        if (this.groupOfShells) {\r\n            this.groupOfShells.createFire(this);\r\n        }\r\n    }\r\n\r\n    public move(): void {\r\n        // the vehicle is moving with account of turn`s angle\r\n        this.setAngle(this.getAngle());\r\n        const velocity = this.getVelocityFromAngle();\r\n        this.body?.setVelocity(velocity.x, velocity.y);\r\n\r\n        if (this._fire.isDown && this) this.fire();\r\n    }\r\n\r\n    public setAlive(status: boolean): void {\r\n        this.body.enable = status;\r\n        this.setVisible(status);\r\n        this.setActive(status);\r\n    }\r\n\r\n    public destroyPlayer(shell: Shell): void {\r\n        this._armour -= shell.damage;\r\n        if (this._vehicleType === \"player_tank\") {\r\n            if ((this._armour < 100) && (this._armour >= 50)) {\r\n                this.setTexture(\"objects\", \"player_tank1\");\r\n            } else if ((this._armour < 50) && (this._armour > 0)) {\r\n                this.setTexture(\"objects\", \"player_tank2\");\r\n            } else if (this._armour <= 0) {\r\n                this._scene.events.emit(\"first_player_dead\");\r\n                this.destroy();\r\n            }\r\n        } else if (this._vehicleType === \"player_ifv\") {\r\n            if ((this._armour < 77) && (this._armour >= 40)) {\r\n                this.setTexture(\"objects\", \"player_ifv1\");\r\n            } else if ((this._armour < 40) && (this._armour > 0)) {\r\n                this.setTexture(\"objects\", \"player_ifv2\");\r\n            } else if (this._armour <= 0) {\r\n                this._scene.events.emit(\"first_player_dead\");\r\n                this.destroy();\r\n            }\r\n        }\r\n    }\r\n}","import { PLAYER, PLAYER_SPEED, StartPosition, TURNS } from \"../../../utils/utils\";\r\nimport Map from \"../../Map\";\r\nimport Shell from \"../../shells/Shell\";\r\nimport Player from \"./Player\";\r\n\r\nexport default class Player2 extends Player {\r\n    private _controls = null;\r\n    public id: string = \"P2\";\r\n    constructor(scene: Phaser.Scene, position: StartPosition, atlasName: string, textureName: string, map: Map, shellTexture: string, experience: number) {\r\n        super(scene, position, atlasName, textureName, map, shellTexture, experience);\r\n        this._controls = this._scene.input.keyboard.addKeys({\"up\": Phaser.Input.Keyboard.KeyCodes.W, \"down\": Phaser.Input.Keyboard.KeyCodes.S, \"left\": Phaser.Input.Keyboard.KeyCodes.A, \"right\": Phaser.Input.Keyboard.KeyCodes.D});\r\n        this._fire = this._scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);\r\n    }\r\n\r\n    protected get direction(): number {\r\n        let direction = PLAYER_SPEED.NONE;\r\n\r\n        if (this._controls.up.isDown) direction = (this._vehicleType === \"player_tank\") ? PLAYER.TANK.SPEED : PLAYER.BMP.SPEED;\r\n        else if (this._controls.down.isDown) direction = (this._vehicleType === \"player_tank\") ? -PLAYER.TANK.SPEED : -PLAYER.BMP.SPEED;\r\n        \r\n        return direction;\r\n    }\r\n\r\n    protected get turn(): number {\r\n        let turn = TURNS.NONE;\r\n\r\n        if (this._controls.right.isDown) turn = TURNS.RIGHT;\r\n        else if (this._controls.left.isDown) turn = TURNS.LEFT;\r\n        \r\n        return turn;\r\n    }\r\n\r\n    public destroyPlayer(shell: Shell): void {\r\n        this._armour -= shell.damage;\r\n        if (this._vehicleType === \"player_tank\") {\r\n            if ((this._armour < 100) && (this._armour >= 50)) {\r\n                this.setTexture(\"objects\", \"player_tank1\");\r\n            } else if ((this._armour < 50) && (this._armour > 0)) {\r\n                this.setTexture(\"objects\", \"player_tank2\");\r\n            } else if (this._armour <= 0) {\r\n                this._scene.events.emit(\"second_player_dead\");\r\n                this.destroy();\r\n            }\r\n        } else if (this._vehicleType === \"player_ifv\") {\r\n            if ((this._armour < 77) && (this._armour >= 40)) {\r\n                this.setTexture(\"objects\", \"player_ifv1\");\r\n            } else if ((this._armour < 40) && (this._armour > 0)) {\r\n                this.setTexture(\"objects\", \"player_ifv2\");\r\n            } else if (this._armour <= 0) {\r\n                this._scene.events.emit(\"second_player_dead\");\r\n                this.destroy();\r\n            }\r\n        }\r\n    }\r\n}","import BootScene from \"./scenes/BootScene\";\r\nimport PreloadScene from \"./scenes/PreloadScene\";\r\nimport StartScene from \"./scenes/StartScene\";\r\nimport Level_1 from \"./scenes/Level_1\";\r\nimport PostStartScene from \"./scenes/PostStartScene\";\r\nimport HelpScene from \"./scenes/HelpScene\";\r\nimport PrelevelScene from \"./scenes/PrelevelScene\";\r\nimport PostlevelScene from \"./scenes/PostlevelScene\";\r\nimport GameOverScene from \"./scenes/GameOverScene\";\r\n\r\nconst config = {\r\n    type: Phaser.AUTO,\r\n    width: window.innerWidth, // set according to background image size / map`s size!!!\r\n    height: window.innerHeight, // set according to background image size / map`s size!!!\r\n    scene: [\r\n        new BootScene(),\r\n        new PreloadScene(),\r\n        new StartScene(),\r\n        new HelpScene(),\r\n        new PostStartScene(),\r\n        new PrelevelScene(),\r\n        new PostlevelScene(),\r\n        new Level_1(),\r\n        new GameOverScene()\r\n    ],\r\n    scale: {\r\n        mode: Phaser.Scale.FIT, // auto scaling of all sprites\r\n        autoCenter: Phaser.Scale.CENTER_BOTH // canvas centering in the center of the screen\r\n    },\r\n    physics: {\r\n        default: \"arcade\",\r\n        arcade: { debug: false} // if true -> shows objects` frames\r\n    }\r\n};\r\n\r\nconst game = new Phaser.Game(config);","export default class BootScene extends Phaser.Scene {\r\n    constructor() {super({key: \"boot-scene\"});}\r\n\r\n    protected preload(): void {\r\n        this.load.image(\"logo\", \"assets/images/logo.png\");\r\n    }\r\n\r\n    protected create(): void {\r\n        this.scene.start(\"preload-scene\");\r\n    }\r\n}","export default class GameOverScene extends Phaser.Scene {\r\n    constructor() { super({ key: \"gameover-scene\" }) }\r\n    \r\n    protected create(): void {\r\n        console.log(\"Game over scene\");\r\n    }\r\n}","export default class HelpScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({ key: \"help-scene\" });\r\n    }\r\n}","import BangAnimation from \"../classes/animation/BangAnimation\";\r\nimport Map from \"../classes/Map\";\r\nimport Player from \"../classes/vehicles/player/Player\";\r\nimport Shell from \"../classes/shells/Shell\";\r\nimport { createLevelText, getPlayersRank, handleDirection, LevelData, StartPosition } from \"../utils/utils\";\r\nimport GroupOfEnemies from \"../classes/vehicles/enemies/GroupOfEnemies\";\r\nimport EnemyVehicle from \"../classes/vehicles/enemies/EnemyVehicle\";\r\nimport Player2 from \"../classes/vehicles/player/Player2\";\r\n\r\nexport default class Level_1 extends Phaser.Scene {\r\n    private _map: Map = null;\r\n    private _levelData: LevelData = null;\r\n    private _player1: Player = null;\r\n    private _player2: Player2 = null;\r\n    private _enemies: GroupOfEnemies = null;\r\n    private _enemiesText: Phaser.GameObjects.Text = null;\r\n    private _enemiesArray: number[] = null;\r\n    private _enemiesCounter: number = 0;\r\n    private _maxEnemies: number = 0;\r\n    private _style: Phaser.Types.GameObjects.Text.TextStyle = null;\r\n    private _fightingMelody: Phaser.Sound.BaseSound = null;\r\n    \r\n    constructor() {super({key: \"level-1\"});}\r\n\r\n    protected preload(): void {\r\n        this.add.sprite(0, 0, \"background\").setOrigin(0);\r\n        this._style = { fontFamily: \"RussoOne\", fontSize: \"40px\", color: \"#E62B0D\", stroke: \"#000000\", strokeThickness: 3 };\r\n        this._fightingMelody = this.sound.add(\"fightMelody\", {volume: 0.1, loop: true});\r\n    }\r\n\r\n    protected create({data}): void {\r\n        this._map = new Map(this, 1);\r\n        this._levelData = data;\r\n        // add all enemies 1 - enemy BTR, 2 - enemy BMP, 3 - enemy tank, count reverse! number of bases on each level is different!!!\r\n        this._enemiesArray = [3, 1, 2, 2, 3, 1, 2, 1, 1, 3, 2, 1];\r\n        // add player/s\r\n        const player = this._map.getPlayer(1);\r\n        let position: StartPosition = {x: player.x, y: player.y};\r\n        this._player1 = new Player(this, position, \"objects\", `player_${this._levelData.firstPlayer.vehicle}`, this._map, this._levelData.firstPlayer.shellType, this._levelData.firstPlayer.experience); // experience from 0 to 200\r\n        this._maxEnemies = 6;\r\n        const width: number = this.sys.game.canvas.width;\r\n        this.showFirstPlayerExperience(width);\r\n        if (this._levelData.secondPlayer) {\r\n            const player2 = this._map.getPlayer(2);\r\n            position = {x: player2.x, y: player2.y};\r\n            this._player2 = new Player2(this, position, \"objects\", `player_${this._levelData.secondPlayer.vehicle}`, this._map, this._levelData.secondPlayer.shellType, this._levelData.secondPlayer.experience);\r\n            this._enemiesArray.forEach((item: number, _, array) => array.push(item)); // if there are two players -> twice enemies\r\n            this._maxEnemies = 10;\r\n            // create exp level 2 player\r\n            this.showSecondPlayerExperience(width);\r\n        }\r\n        this._enemiesCounter = this._enemiesArray.length;\r\n        this._enemies = new GroupOfEnemies(this.physics.world, this, this._map, this._enemiesArray, this._maxEnemies, 4, this._player1, this._player2);\r\n        this._enemiesText = createLevelText(this, 15, 30, `Enemies: ${this._enemiesCounter}`, this._style);\r\n        this.handleCollisions();\r\n        this.cameras.main.setBounds(0, 0, this._map.tilemap.widthInPixels, this._map.tilemap.heightInPixels); // set map`s bounds as camera`s bounds\r\n        this.cameras.main.startFollow(this._player1); // set camera to center on the player`s tank\r\n\r\n        this.events.once(\"first_player_dead\", this.firstPlayerDead, this);\r\n        this.events.once(\"second_player_dead\", this.secondPlayerDead, this);\r\n        this._fightingMelody.play();\r\n    }\r\n\r\n    private showFirstPlayerExperience(width: number): void {\r\n        createLevelText(this, width - 80, 30, \"1st\", this._style);\r\n        const rank: string = getPlayersRank(this._levelData.firstPlayer.experience);\r\n        const sprite: Phaser.GameObjects.Sprite = this.add.sprite(width - 40, 130, \"objects\", rank);\r\n        sprite.depth = 10;\r\n    }\r\n\r\n    private showSecondPlayerExperience(width: number): void {\r\n        createLevelText(this, width - 90, 200, \"2nd\", this._style);\r\n        const rank: string = getPlayersRank(this._levelData.secondPlayer.experience);\r\n        const sprite: Phaser.GameObjects.Sprite = this.add.sprite(window.innerWidth - 40, 300, \"objects\", rank);\r\n        sprite.depth = 10;\r\n    }\r\n\r\n    private handleCollisions(): void {\r\n        // player shoots all enemies\r\n        this.physics.add.overlap(this._enemies, this._player2 ? [this._player1.groupOfShells, this._player2.groupOfShells] : this._player1.groupOfShells, this.shellsEnemiesCollision, null, this);\r\n        // handle enemies vs simple collision (not move objects)                                          \r\n        this.physics.add.collider([...this._map.explosiveObjects, ...this._map.stones].concat(this._player2 ? [this._player2, this._player1] : this._player1), this._enemies, this.handleEnemiesCollision, null, this);\r\n        this.physics.add.collider([...this._enemies.children.getArray(), ...this._map.explosiveObjects, ...this._map.stones], this._player2 ? [this._player1, this._player2] : this._player1, this.handlePlayerCollision, null, this);\r\n    }\r\n\r\n    private shellsEnemiesCollision(enemy: EnemyVehicle, shell: Shell): void {\r\n        const position: StartPosition = { x: enemy.x, y: enemy.y };\r\n        BangAnimation.generateBang(this, position);\r\n        if (enemy.destroyEnemy(shell)) {\r\n            --this._enemies.counter;\r\n            --this._enemiesCounter;\r\n            this._enemiesText.setText(`Enemies: ${this._enemiesCounter}`);\r\n        }\r\n        if (this._enemiesCounter <= 0) {\r\n            // create LevelData and pass it to the next scene\r\n            this._levelData.nextLevelNumber = \"level-2\";\r\n            this._levelData.nextLevelName = \"First Blood\";\r\n            if (this._player1 && this._levelData.firstPlayer) {\r\n                this._levelData.firstPlayer.experience = this._player1.experience;\r\n                this._levelData.firstPlayer.tanksPerLevel = this._player1.tanksPerLevel;\r\n                this._levelData.firstPlayer.bmpPerLevel = this._player1.bmpPerLevel;\r\n                this._levelData.firstPlayer.btrPerLevel = this._player1.btrPerLevel;\r\n            }\r\n            if (this._player2 && this._levelData.secondPlayer) {\r\n                this._levelData.secondPlayer.experience = this._player2.experience;\r\n                this._levelData.secondPlayer.tanksPerLevel = this._player2.tanksPerLevel;\r\n                this._levelData.secondPlayer.bmpPerLevel = this._player2.bmpPerLevel;\r\n                this._levelData.secondPlayer.btrPerLevel = this._player2.btrPerLevel;\r\n            }\r\n            this._fightingMelody.stop();\r\n            this.scene.start(\"postlevel-scene\", { data: this._levelData });\r\n        }\r\n\r\n        // if (enemy instanceof Radar) {\r\n        //     this._radar.destroy();\r\n        // } else if (enemy.frame.name === \"platform\") {\r\n        //     this._turret.destroyTurret(shell);\r\n        // } else if (enemy instanceof EnemyVehicle) {\r\n        //     if (enemy.destroyEnemy(shell)) {\r\n        //         --this._enemies.counter;\r\n        //     }\r\n        // }\r\n        \r\n        shell.setAlive(false);\r\n    }\r\n\r\n    private handleEnemiesCollision(gameObject: Phaser.GameObjects.Sprite, enemy: EnemyVehicle): void {\r\n        handleDirection(enemy);\r\n        enemy.changeDirection();\r\n    }\r\n\r\n    private handlePlayerCollision(gameObject: Phaser.GameObjects.Sprite, player: Player): void {\r\n        player.body.stop();\r\n    }\r\n\r\n    private firstPlayerDead(): void {\r\n        // if singleplayer game\r\n        if (!this._levelData.multiplayerGame) this.scene.start(\"gameover-scene\");\r\n        // if multiplayer game and second player is alive\r\n        else if (this._levelData.multiplayerGame && this._levelData.secondPlayer) this._levelData.firstPlayer = null;\r\n        // if multiplayer game and second player is dead\r\n        else if (this._levelData.multiplayerGame && !this._levelData.secondPlayer) this.scene.start(\"gameover-scene\");\r\n    }\r\n\r\n    private secondPlayerDead(): void {\r\n        this._levelData.secondPlayer = null;\r\n        if (!this._levelData.firstPlayer) this.scene.start(\"gameover-scene\");\r\n    }\r\n\r\n    // see docs -> Scene.Methods\r\n    update(time: number, delta: number): void {\r\n        if (this._player1.active) this._player1.move();\r\n        if (this._player2 && this._player2.active) this._player2.move();\r\n        // if (this._turret.turret && this._player1.active) {\r\n        //     const isPlayerNear: boolean = this._map.checkPlayersPosition(this._radar, this._player1);\r\n        //     this._turret.runTurret(this._player1, isPlayerNear);\r\n        // }\r\n        this.checkMapBounds([...this._enemies.getChildren()].concat(this._player2 ? [this._player1, this._player2] : this._player1));\r\n    }\r\n\r\n    private checkMapBounds(vehicles: Phaser.GameObjects.GameObject[]): void {\r\n        if (vehicles && vehicles.length > 0) {\r\n            for (let i = 0; i < vehicles.length; i++) {\r\n                if (!vehicles[i].body) continue;\r\n        \r\n                if (vehicles[i].body.y > this._map.tilemap.heightInPixels - 30) {\r\n                    vehicles[i].body.y = this._map.tilemap.heightInPixels - 30 - 20;\r\n                }\r\n                if (vehicles[i].body.y < 0) {\r\n                    vehicles[i].body.y = 20;\r\n                }\r\n                if (vehicles[i].body.x < 0) {\r\n                    vehicles[i].body.x = 20;\r\n                }\r\n                if (vehicles[i].body.x > this._map.tilemap.widthInPixels - 30) {\r\n                    vehicles[i].body.x = this._map.tilemap.widthInPixels - 30 - 20;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import { createRectangleFrame, createText, LevelData } from \"../utils/utils\";\r\n\r\nexport default class PostStartScene extends Phaser.Scene {\r\n    private _data: LevelData = null;\r\n    private _style: Phaser.Types.GameObjects.Text.TextStyle = null;\r\n    private _tank1Rect: Phaser.GameObjects.Graphics = null;\r\n    private _ifv1Rect: Phaser.GameObjects.Graphics = null;\r\n    private _tank2Rect: Phaser.GameObjects.Graphics = null;\r\n    private _ifv2Rect: Phaser.GameObjects.Graphics = null;\r\n    private _buttonClick: Phaser.Sound.BaseSound = null;\r\n    \r\n    constructor() { super({ key: \"post-start-scene\" }); }\r\n    \r\n    protected preload(): void {this._buttonClick = this.sound.add(\"click\");}\r\n\r\n    protected create(data: any): void {\r\n        this.init();\r\n        data.onePlayer ? this.onePlayerMenu() : this.twoPlayerMenu();\r\n    }\r\n    \r\n    private init(): void {\r\n        this._data = {\r\n            nextLevelNumber: \"level-1\",\r\n            nextLevelName: \"Training Camp\",\r\n            multiplayerGame: false,\r\n            firstPlayer: {\r\n                vehicle: \"tank\",\r\n                shellType: \"bulletRed2\",\r\n                experience: 0,\r\n                tanksPerLevel: 0,\r\n                bmpPerLevel: 0,\r\n                btrPerLevel: 0\r\n            },\r\n            secondPlayer: {\r\n                vehicle: \"tank\",\r\n                shellType: \"bulletRed2\",\r\n                experience: 0,\r\n                tanksPerLevel: 0,\r\n                bmpPerLevel: 0,\r\n                btrPerLevel: 0\r\n            }\r\n        };\r\n        this._style = { fontFamily: \"RussoOne\", fontSize: \"55px\", color: \"#FFFFFF\" };\r\n\r\n        this._tank1Rect = createRectangleFrame(this, window.innerWidth / 2 + 90, window.innerHeight / 2 - 200);\r\n        this._ifv1Rect = createRectangleFrame(this, window.innerWidth / 2 + 190, window.innerHeight / 2 - 200);\r\n        this._tank2Rect = createRectangleFrame(this, window.innerWidth / 2 + 90, window.innerHeight / 2 - 50);\r\n        this._ifv2Rect = createRectangleFrame(this, window.innerWidth / 2 + 190, window.innerHeight / 2 - 50);\r\n    }\r\n\r\n    private onePlayerMenu(): void {\r\n        this._data.secondPlayer = null;\r\n\r\n        this.add.graphics()\r\n            .fillStyle(0xE7590D)\r\n            .fillRoundedRect(window.innerWidth / 2 - 200, window.innerHeight / 2 - 125, 400, 250, 16);\r\n        const style: Phaser.Types.GameObjects.Text.TextStyle = { fontFamily: \"RussoOne\", fontSize: \"40px\", color: \"#FFFFFF\" };\r\n        createText(this, window.innerWidth / 2 - 155, window.innerHeight / 2 - 100, \"Choose vehicle\", style);\r\n        this.add.sprite(window.innerWidth / 2 - 80, window.innerHeight / 2, \"objects\", \"player_tank\");\r\n        this.add.sprite(window.innerWidth / 2 + 70, window.innerHeight / 2, \"objects\", \"player_ifv\");\r\n        const tank: Phaser.GameObjects.Text = createText(this, window.innerWidth / 2 - 125, window.innerHeight / 2 + 50, \"tank\", style);\r\n        tank.setInteractive({ useHandCursor: true });\r\n        tank.once(\"pointerdown\", () => {\r\n            this._buttonClick.play();\r\n            this.scene.start(\"prelevel-scene\", { data: this._data });\r\n        });\r\n        const ifv: Phaser.GameObjects.Text = createText(this, window.innerWidth / 2 + 40, window.innerHeight / 2 + 50, \"IFV\", style);\r\n        ifv.setInteractive({ useHandCursor: true });\r\n        ifv.once(\"pointerdown\", () => {\r\n            this._buttonClick.play();\r\n            this._data.firstPlayer.vehicle = \"ifv\";\r\n            this._data.firstPlayer.shellType = \"bulletSand1\";\r\n            this.scene.start(\"prelevel-scene\", {data: this._data});\r\n        });\r\n    }\r\n\r\n    private twoPlayerMenu(): void {\r\n        this._data.multiplayerGame = true;\r\n        createText(this, window.innerWidth / 2 - 300, 50, \"Choose your vehicles\", this._style);\r\n        createText(this, window.innerWidth / 2 - 250, window.innerHeight / 2 - 170, \"1st player\", this._style);\r\n        const tank1: Phaser.GameObjects.Sprite = this.add.sprite(window.innerWidth / 2 + 130, window.innerHeight / 2 - 150, \"objects\", \"player_tank\");\r\n        tank1.setInteractive({ useHandCursor: true });\r\n        tank1.on(\"pointerdown\", () => {\r\n            this._buttonClick.play();\r\n            if (!this._tank1Rect.visible) {\r\n                this._data.firstPlayer.vehicle = \"tank\";\r\n                this._data.firstPlayer.shellType = \"bulletRed2\";\r\n                this._tank1Rect.visible = true;\r\n                this._ifv1Rect.visible = false;\r\n            }\r\n        });\r\n        const ifv1: Phaser.GameObjects.Sprite = this.add.sprite(window.innerWidth / 2 + 230, window.innerHeight / 2 - 150, \"objects\", \"player_ifv\");\r\n        ifv1.setInteractive({ useHandCursor: true });\r\n        ifv1.on(\"pointerdown\", () => {\r\n            this._buttonClick.play();\r\n            if (!this._ifv1Rect.visible) {\r\n                this._data.firstPlayer.vehicle = \"ifv\";\r\n                this._data.firstPlayer.shellType = \"bulletSand1\";\r\n                this._ifv1Rect.visible = true;\r\n                this._tank1Rect.visible = false;\r\n            }\r\n        });\r\n        createText(this, window.innerWidth / 2 - 250, window.innerHeight / 2 - 20, \"2nd player\", this._style);\r\n        const tank2: Phaser.GameObjects.Sprite = this.add.sprite(window.innerWidth / 2 + 130, window.innerHeight / 2, \"objects\", \"player_tank\");\r\n        tank2.setInteractive({ useHandCursor: true });\r\n        tank2.on(\"pointerdown\", () => {\r\n            this._buttonClick.play();\r\n            if (!this._tank2Rect.visible) {\r\n                this._data.secondPlayer.vehicle = \"tank\";\r\n                this._data.secondPlayer.shellType = \"bulletRed2\";\r\n                this._tank2Rect.visible = true;\r\n                this._ifv2Rect.visible = false;\r\n            }\r\n        });\r\n        const ifv2: Phaser.GameObjects.Sprite = this.add.sprite(window.innerWidth / 2 + 230, window.innerHeight / 2, \"objects\", \"player_ifv\");\r\n        ifv2.setInteractive({ useHandCursor: true });\r\n        ifv2.on(\"pointerdown\", () => {\r\n            this._buttonClick.play();\r\n            if (!this._ifv2Rect.visible) {\r\n                this._data.secondPlayer.vehicle = \"ifv\";\r\n                this._data.secondPlayer.shellType = \"bulletSand1\";\r\n                this._ifv2Rect.visible = true;\r\n                this._tank2Rect.visible = false;\r\n            }\r\n        });\r\n\r\n        this.add.graphics()\r\n            .fillStyle(0xE7590D)\r\n            .fillRoundedRect(window.innerWidth / 2 - 100, window.innerHeight - 175, 200, 100, 16);\r\n        const startButtonText: Phaser.GameObjects.Text = createText(this, window.innerWidth / 2 - 69, window.innerHeight - 155, \"Start\", this._style);\r\n        startButtonText.setInteractive({ useHandCursor: true });\r\n        startButtonText.once(\"pointerdown\", () => {\r\n            this._buttonClick.play();\r\n            this.scene.start(\"prelevel-scene\", { data: this._data });\r\n        });\r\n    }\r\n}","import { createText, LevelData } from \"../utils/utils\";\r\n\r\nexport default class PostlevelScene extends Phaser.Scene {\r\n    private _data: LevelData = null;\r\n    private _startTimer: Phaser.Time.TimerEvent = null;\r\n    private _endTimer: Phaser.Time.TimerEvent = null;\r\n    private _1PlayerBtrTween: Phaser.Tweens.Tween = null;\r\n    private _1PlayerBtrText: Phaser.GameObjects.Text = null;\r\n    private _1PlayerBmpTween: Phaser.Tweens.Tween = null;\r\n    private _1PlayerBmpText: Phaser.GameObjects.Text = null;\r\n    private _1PlayerTankTween: Phaser.Tweens.Tween = null;\r\n    private _1PlayerTankText: Phaser.GameObjects.Text = null;\r\n    private _1PlayerTotalTween: Phaser.Tweens.Tween = null;\r\n    private _1PlayerTotalText: Phaser.GameObjects.Text = null;\r\n    private _1PlayerTotal: number = 0;\r\n    private _2PlayerBtrTween: Phaser.Tweens.Tween = null;\r\n    private _2PlayerBtrText: Phaser.GameObjects.Text = null;\r\n    private _2PlayerBmpTween: Phaser.Tweens.Tween = null;\r\n    private _2PlayerBmpText: Phaser.GameObjects.Text = null;\r\n    private _2PlayerTankTween: Phaser.Tweens.Tween = null;\r\n    private _2PlayerTankText: Phaser.GameObjects.Text = null;\r\n    private _2PlayerTotalTween: Phaser.Tweens.Tween = null;\r\n    private _2PlayerTotalText: Phaser.GameObjects.Text = null;\r\n    private _2PlayerTotal: number = 0;\r\n    private _header: Phaser.Types.GameObjects.Text.TextStyle = null;\r\n    private _mainStyle: Phaser.Types.GameObjects.Text.TextStyle = null;\r\n    private _secondaryStyle: Phaser.Types.GameObjects.Text.TextStyle = null;\r\n    private _melody: Phaser.Sound.BaseSound = null;\r\n    private _width: number = null;\r\n\r\n    constructor() { super({ key: \"postlevel-scene\" });}\r\n    \r\n    protected preload(): void {\r\n        this._header = { fontFamily: \"RussoOne\", fontSize: \"70px\", color: \"#00FF00\" };\r\n        this._mainStyle = { fontFamily: \"RussoOne\", fontSize: \"65px\", color: \"#00FF00\" };\r\n        this._secondaryStyle = { fontFamily: \"RussoOne\", fontSize: \"50px\", color: \"#00FF00\" };\r\n        this._melody = this.sound.add(\"mainMelody\", { volume: 0.4, loop: true });\r\n        this._width = this.sys.game.canvas.width;\r\n    }\r\n\r\n    protected create({data}): void {\r\n        this._data = data;\r\n\r\n        // start counting points in 0.8 sec\r\n        this._startTimer = this.time.addEvent({\r\n            delay: 800,\r\n            loop: false,\r\n            callback: this.startCountPoints,\r\n            callbackScope: this\r\n        });\r\n\r\n        const levelNumberText: Phaser.GameObjects.Text = createText(this, 0, 150, \"Level complete!\", this._header);\r\n        levelNumberText.setX(this.sys.game.canvas.width / 2 - levelNumberText.width / 2);\r\n        \r\n        if (this._data.firstPlayer) this.firstPlayerResults();\r\n        if (this._data.secondPlayer) this.secondPlayerResults();\r\n        this._melody.play();\r\n    }\r\n\r\n    private startCountPoints(): void {\r\n        if (this._data.firstPlayer) this._1PlayerBtrTween.resume();\r\n        if (this._data.secondPlayer) this._2PlayerBtrTween.resume();\r\n        this._startTimer.remove();\r\n    }\r\n\r\n    private firstPlayerResults(): void {\r\n        this._1PlayerTotal = this._data.firstPlayer.btrPerLevel * 1 + this._data.firstPlayer.bmpPerLevel * 2 + this._data.firstPlayer.tanksPerLevel * 3;\r\n        const header: Phaser.GameObjects.Text = createText(this, 250, 250, \"1st player\", this._mainStyle);\r\n        this._1PlayerBtrText = createText(this, 250, 330, `BTRs: ${this._data.firstPlayer.btrPerLevel} × 1xp = 0xp`, this._secondaryStyle);\r\n        this._1PlayerBmpText = createText(this, 250, 410, `BMPs: ${this._data.firstPlayer.bmpPerLevel} × 2xp = 0xp`, this._secondaryStyle);\r\n        this._1PlayerTankText = createText(this, 250, 490, `Tanks: ${this._data.firstPlayer.tanksPerLevel} × 3xp = 0xp`, this._secondaryStyle);\r\n        const dash: Phaser.GameObjects.Text = createText(this, 250, 510, \"_____________________\", this._secondaryStyle);\r\n        this._1PlayerTotalText = createText(this, 250, 580, `Total: 0xp`, this._secondaryStyle);\r\n        header.setX(this._1PlayerTankText.width / 3);\r\n        this._1PlayerBtrText.setX(this._1PlayerTankText.width / 3);\r\n        this._1PlayerBmpText.setX(this._1PlayerTankText.width / 3);\r\n        this._1PlayerTankText.setX(this._1PlayerTankText.width / 3);\r\n        dash.setX(this._1PlayerTankText.width / 3);\r\n        this._1PlayerTotalText.setX(this._1PlayerTankText.width / 3);\r\n\r\n        this._1PlayerBtrTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._data.firstPlayer.btrPerLevel * 1,\r\n            duration: 1000,\r\n            paused: true,\r\n            onComplete: () => this._1PlayerBmpTween.resume()\r\n        });\r\n        this._1PlayerBmpTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._data.firstPlayer.bmpPerLevel * 2,\r\n            duration: 1000,\r\n            paused: true,\r\n            onComplete: () => this._1PlayerTankTween.resume()\r\n        });\r\n        this._1PlayerTankTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._data.firstPlayer.tanksPerLevel * 3,\r\n            duration: 1000,\r\n            paused: true,\r\n            onComplete: () => this._1PlayerTotalTween.resume()\r\n        });\r\n        this._1PlayerTotalTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._1PlayerTotal,\r\n            duration: 1500,\r\n            paused: true,\r\n            onComplete: () => this.pauseBeforeCloseScene()\r\n        });\r\n    }\r\n\r\n    private secondPlayerResults(): void {\r\n        this._2PlayerTotal = this._data.secondPlayer.btrPerLevel * 1 + this._data.secondPlayer.bmpPerLevel * 2 + this._data.secondPlayer.tanksPerLevel * 3;\r\n        const header: Phaser.GameObjects.Text = createText(this, this._width - 750, 250, \"2nd player\", this._mainStyle);\r\n        this._2PlayerBtrText = createText(this, this._width - 750, 330, `BTRs: ${this._data.secondPlayer.btrPerLevel} × 1xp = 0xp`, this._secondaryStyle);\r\n        this._2PlayerBmpText = createText(this, this._width - 750, 410, `BMPs: ${this._data.secondPlayer.bmpPerLevel} × 2xp = 0xp`, this._secondaryStyle);\r\n        this._2PlayerTankText = createText(this, this._width - 750, 490, `Tanks: ${this._data.secondPlayer.tanksPerLevel} × 3xp = 0xp`, this._secondaryStyle);\r\n        const dash: Phaser.GameObjects.Text = createText(this, this._width - 750, 510, \"_____________________\", this._secondaryStyle);\r\n        this._2PlayerTotalText = createText(this, this._width - 750, 580, `Total: 0xp`, this._secondaryStyle);\r\n        header.setX(this._width - this._2PlayerTankText.width - this._2PlayerTankText.width / 3);\r\n        this._2PlayerBtrText.setX(this._width - this._2PlayerTankText.width - this._2PlayerTankText.width / 3);\r\n        this._2PlayerBmpText.setX(this._width - this._2PlayerTankText.width - this._2PlayerTankText.width / 3);\r\n        this._2PlayerTankText.setX(this._width - this._2PlayerTankText.width - this._2PlayerTankText.width / 3);\r\n        dash.setX(this._width - this._2PlayerTankText.width - this._2PlayerTankText.width / 3);\r\n        this._2PlayerTotalText.setX(this._width - this._2PlayerTankText.width - this._2PlayerTankText.width / 3);\r\n\r\n        this._2PlayerBtrTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._data.secondPlayer.btrPerLevel * 1,\r\n            duration: 1000,\r\n            paused: true,\r\n            onComplete: () => this._2PlayerBmpTween.resume()\r\n        });\r\n        this._2PlayerBmpTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._data.secondPlayer.bmpPerLevel * 2,\r\n            duration: 1000,\r\n            paused: true,\r\n            onComplete: () => this._2PlayerTankTween.resume()\r\n        });\r\n        this._2PlayerTankTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._data.secondPlayer.tanksPerLevel * 3,\r\n            duration: 1000,\r\n            paused: true,\r\n            onComplete: () => this._2PlayerTotalTween.resume()\r\n        });\r\n        this._2PlayerTotalTween = this.tweens.addCounter({\r\n            from: 0,\r\n            to: this._2PlayerTotal,\r\n            duration: 1500,\r\n            paused: true,\r\n            onComplete: this._data.firstPlayer ? () => { } : () => this.pauseBeforeCloseScene()\r\n        });\r\n    }\r\n\r\n    private pauseBeforeCloseScene(): void {\r\n        this._endTimer = this.time.delayedCall(2000, this.startNextLevel, null, this)\r\n    }\r\n\r\n    private startNextLevel(): void {\r\n        this._endTimer.remove();\r\n        this._melody.stop();\r\n        this.scene.start(\"prelevel-scene\", { data: this._data })\r\n    }\r\n\r\n    update(): void {\r\n        if (this._data.firstPlayer) {\r\n            this._1PlayerBtrText.setText(`BTRs: ${this._data.firstPlayer.btrPerLevel} × 1xp = ${this._1PlayerBtrTween.getValue().toFixed(0)}xp`);\r\n            this._1PlayerBmpText.setText(`BMPs: ${this._data.firstPlayer.bmpPerLevel} × 2xp = ${this._1PlayerBmpTween.getValue().toFixed(0)}xp`);\r\n            this._1PlayerTankText.setText(`Tanks: ${this._data.firstPlayer.tanksPerLevel} × 3xp = ${this._1PlayerTankTween.getValue().toFixed(0)}xp`);\r\n            this._1PlayerTotalText.setText(`Total: ${this._1PlayerTotalTween.getValue().toFixed(0)}xp`);\r\n        }\r\n\r\n        if (this._data.secondPlayer) {\r\n            this._2PlayerBtrText.setText(`BTRs: ${this._data.secondPlayer.btrPerLevel} × 1xp = ${this._2PlayerBtrTween.getValue().toFixed(0)}xp`);\r\n            this._2PlayerBmpText.setText(`BMPs: ${this._data.secondPlayer.bmpPerLevel} × 2xp = ${this._2PlayerBmpTween.getValue().toFixed(0)}xp`);\r\n            this._2PlayerTankText.setText(`Tanks: ${this._data.secondPlayer.tanksPerLevel} × 3xp = ${this._2PlayerTankTween.getValue().toFixed(0)}xp`);\r\n            this._2PlayerTotalText.setText(`Total: ${this._2PlayerTotalTween.getValue().toFixed(0)}xp`);\r\n        }\r\n    }\r\n}","import { createText, LevelData } from \"../utils/utils\";\r\n\r\nexport default class PrelevelScene extends Phaser.Scene {\r\n    private _data: LevelData = null;\r\n    private _timer1: Phaser.Time.TimerEvent = null;\r\n    private _timer2: Phaser.Time.TimerEvent = null;\r\n    private _levelNumberStyle: Phaser.Types.GameObjects.Text.TextStyle = null;\r\n    private _levelNameStyle: Phaser.Types.GameObjects.Text.TextStyle = null;\r\n    private _melody: Phaser.Sound.BaseSound = null;\r\n\r\n    constructor() { super({ key: \"prelevel-scene\" }) }\r\n    \r\n    protected preload(): void {\r\n        this._levelNumberStyle = { fontFamily: \"RussoOne\", fontSize: \"60px\", color: \"#E62B0D\" };\r\n        this._levelNameStyle = { fontFamily: \"RussoOne\", fontSize: \"80px\", color: \"#E62B0D\" };\r\n        this._melody = this.sound.add('prelevelMelody');\r\n    }\r\n\r\n    protected create({data}): void {\r\n        this._data = data;\r\n        let levelNumber: string = this._data.nextLevelNumber;\r\n        levelNumber = levelNumber.replace(\"-\", \" \");\r\n        const levelNumberText: Phaser.GameObjects.Text = createText(this, 0, 300, levelNumber, this._levelNumberStyle);\r\n        levelNumberText.setX(this.sys.game.canvas.width / 2 - levelNumberText.width / 2);\r\n        let levelName: string = this._data.nextLevelName;\r\n        const levelNameText: Phaser.GameObjects.Text = createText(this, 0, 400, levelName, this._levelNameStyle);\r\n        levelNameText.setX(this.sys.game.canvas.width / 2 - levelNameText.width / 2);\r\n        this._timer1 = this.time.addEvent({ // play melody in 0.4 sec\r\n            delay: 400,\r\n            loop: false,\r\n            callback: this.playMelody,\r\n            callbackScope: this\r\n        });\r\n        this._timer2 = this.time.addEvent({ // start level scene in 4.2 sec\r\n            delay: 4200,\r\n            loop: false,\r\n            callback: this.startNextLevel,\r\n            callbackScope: this\r\n        });\r\n    }\r\n\r\n    private playMelody(): void {\r\n        this._melody.play();\r\n        this._timer1.remove();\r\n    }\r\n\r\n    private startNextLevel(): void {\r\n        this._timer2.remove();\r\n        this._melody.stop();\r\n        this.scene.start(this._data.nextLevelNumber, { data: this._data });\r\n    }\r\n}","import { LoadingBar } from \"../utils/LoadingBar\";\r\nimport { BANG_ANIMATION, RADAR_ANIMATION, SPARKLE_ANIMATION, XPOINTS_1_ANIMATION, XPOINTS_2_ANIMATION, XPOINTS_3_ANIMATION } from \"../utils/utils\";\r\n\r\nexport default class PreloadScene extends Phaser.Scene {\r\n    constructor() {super({key: \"preload-scene\"});}\r\n\r\n    protected preload(): void {\r\n        const sprite: Phaser.GameObjects.Sprite = this.add.sprite(0, 0, \"logo\").setOrigin(0);\r\n        sprite.setX(window.innerWidth / 2 - sprite.width / 2);\r\n        sprite.setY(window.innerHeight / 2 - sprite.height / 2);\r\n        new LoadingBar(this);\r\n\r\n        // load images as a tileset\r\n        this.load.spritesheet(\"tileset\", \"assets/images/tilemap.png\", { frameWidth: 64, frameHeight: 64, margin: 0, spacing: 0 });\r\n        this.load.tilemapTiledJSON(\"tilemap\", \"assets/images/tilemap.json\");\r\n        this.load.atlas(\"objects\", \"assets/images/objects.png\", \"assets/images/objects.json\");\r\n\r\n        this.load.audio(\"prelevelMelody\", \"assets/sounds/prelevelMelody.mp3\");\r\n        this.load.audio(\"mainMelody\", \"assets/sounds/mainMelody.mp3\");\r\n        this.load.audio(\"fightMelody\", \"assets/sounds/fightMelody.mp3\");\r\n        this.load.audio(\"playerIfvShooting\", \"assets/sounds/playerIfvShooting.mp3\");\r\n        this.load.audio(\"playerTankShooting\", \"assets/sounds/playerTankShooting.mp3\");\r\n        this.load.audio(\"simpleExplosion\", \"assets/sounds/simpleExplosion.mp3\");\r\n        this.load.audio(\"click\", \"assets/sounds/click.mp3\");\r\n    }\r\n\r\n    protected create(): void {\r\n        this.scene.start(\"start-scene\");\r\n        this.loadAnimation(); // loading all animation safely\r\n    }\r\n\r\n    private loadAnimation(): void {\r\n        const bangFrames: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            prefix: \"explosion\",\r\n            start: 1,\r\n            end: 5\r\n        });\r\n        this.anims.create({\r\n            key: BANG_ANIMATION,\r\n            frames: bangFrames,\r\n            frameRate: 5,\r\n            duration: 800, // miliseconds\r\n            repeat: 0, // to play animation only once\r\n        });\r\n\r\n        const frames: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            prefix: \"platform\",\r\n            start: 1,\r\n            end: 8\r\n        });\r\n        this.anims.create({\r\n            key: RADAR_ANIMATION,\r\n            frames: frames,\r\n            frameRate: 7,\r\n            duration: 1000, // miliseconds\r\n            repeat: -1, // to play animation infinitely\r\n        });\r\n\r\n        const sparkleFrame: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            prefix: \"sparkle\",\r\n            start: 1,\r\n            end: 1\r\n        });\r\n        this.anims.create({\r\n            key: SPARKLE_ANIMATION,\r\n            frames: sparkleFrame,\r\n            frameRate: 7,\r\n            duration: 350, // miliseconds\r\n            repeat: 0, // to play animation only once\r\n        });\r\n\r\n        const xpoints1Frame: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            suffix: \"xp\",\r\n            start: 1,\r\n            end: 1\r\n        });\r\n        this.anims.create({\r\n            key: XPOINTS_1_ANIMATION,\r\n            frames: xpoints1Frame,\r\n            frameRate: 1,\r\n            duration: 2000, // miliseconds\r\n            repeat: 0, // to play animation only once\r\n        });\r\n\r\n        const xpoints2Frame: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            suffix: \"xp\",\r\n            start: 2,\r\n            end: 2\r\n        });\r\n        this.anims.create({\r\n            key: XPOINTS_2_ANIMATION,\r\n            frames: xpoints2Frame,\r\n            frameRate: 1,\r\n            duration: 2000, // miliseconds\r\n            repeat: 0, // to play animation only once\r\n        });\r\n\r\n        const xpoints3Frame: Phaser.Types.Animations.AnimationFrame[] = this.anims.generateFrameNames(\"objects\", {\r\n            suffix: \"xp\",\r\n            start: 3,\r\n            end: 3\r\n        });\r\n        this.anims.create({\r\n            key: XPOINTS_3_ANIMATION,\r\n            frames: xpoints3Frame,\r\n            frameRate: 1,\r\n            duration: 2000, // miliseconds\r\n            repeat: 0, // to play animation only once\r\n        });\r\n    }\r\n}","import { createTextButton } from \"../utils/utils\";\r\n\r\nexport default class StartScene extends Phaser.Scene {\r\n    private _style: Phaser.Types.GameObjects.Text.TextStyle;\r\n    private _onePlayerTextButton: Phaser.GameObjects.Text;\r\n    private _twoPlayersTextButton: Phaser.GameObjects.Text;\r\n    private _help: Phaser.GameObjects.Text;\r\n    private _mainMelody: Phaser.Sound.BaseSound = null;\r\n    private _buttonClick: Phaser.Sound.BaseSound = null;\r\n\r\n    constructor() {\r\n        super({ key: \"start-scene\" });\r\n        this._style = { fontFamily: \"RussoOne\", fontSize: \"55px\", color: \"#FFFFFF\" };\r\n    }\r\n\r\n    protected preload(): void {\r\n        const sprite: Phaser.GameObjects.Sprite = this.add.sprite(0, 0, \"logo\").setOrigin(0);\r\n        sprite.setX(window.innerWidth / 2 - sprite.width / 2);\r\n        sprite.setY(window.innerHeight / 2 - sprite.height / 2 - 200);\r\n        this._mainMelody = this.sound.add(\"mainMelody\", {volume: 0.4, loop: true});\r\n        this._buttonClick = this.sound.add(\"click\");\r\n    }\r\n\r\n    protected create(): void {\r\n        this._onePlayerTextButton = createTextButton(this, 50, \"1 player\", this._style);\r\n        this._onePlayerTextButton.once(\"pointerdown\", () => {\r\n            this._mainMelody.stop();\r\n            this._buttonClick.play();\r\n            this.scene.start(\"post-start-scene\", {onePlayer: true});\r\n        });\r\n        this._twoPlayersTextButton = createTextButton(this, 130, \"2 players\", this._style, this._onePlayerTextButton.width);\r\n        this._twoPlayersTextButton.once(\"pointerdown\", () => {\r\n            this._mainMelody.stop();\r\n            this._buttonClick.play();\r\n            this.scene.start(\"post-start-scene\", {onePlayer: false});\r\n        });\r\n        this._help = createTextButton(this, 210, \"Help\", this._style, this._onePlayerTextButton.width);\r\n        this._help.on(\"pointerdown\", () => {\r\n            this._mainMelody.stop();\r\n            this._buttonClick.play();\r\n            this.scene.start(\"help-scene\");\r\n        });\r\n        this._mainMelody.play();\r\n    }\r\n}","export class LoadingBar {\r\n    private scene: Phaser.Scene;\r\n    private style: any;\r\n    private progressBox: Phaser.GameObjects.Graphics;\r\n    private progressBar: Phaser.GameObjects.Graphics;\r\n\r\n    constructor(scene: Phaser.Scene) {\r\n        this.scene = scene;\r\n        this.style = {\r\n            boxColor: 0xD3D3D3,\r\n            barColor: 0xFFF8DC,\r\n            x: (this.scene.game.config.width) as number / 2 - 450,\r\n            y: (this.scene.game.config.height) as number / 2 + 250,\r\n            width: 900,\r\n            height: 25\r\n        };\r\n        this.progressBox = new Phaser.GameObjects.Graphics(this.scene);\r\n        this.progressBox = this.scene.add.graphics();\r\n        this.progressBar = this.scene.add.graphics();\r\n\r\n        this.showProgressBox();\r\n        this.setEvents();\r\n    }\r\n\r\n    setEvents() {\r\n        this.scene.load.on(\"progress\", this.showProgressBar, this);\r\n        this.scene.load.on(\"complete\", this.onLoadComplete, this);\r\n    }\r\n\r\n    showProgressBox() {\r\n        this.progressBox\r\n            .fillStyle(this.style.boxColor) // grey color\r\n            .fillRect(this.style.x, this.style.y, this.style.width, this.style.height);\r\n    }\r\n\r\n    showProgressBar(value: number) {\r\n        this.progressBar\r\n            .clear()\r\n            .fillStyle(this.style.barColor) // yellow color\r\n            .fillRect(this.style.x, this.style.y, this.style.width * value, this.style.height);\r\n    }\r\n\r\n    onLoadComplete() {\r\n        this.progressBox.destroy();\r\n        this.progressBar.destroy();\r\n    }\r\n}","import EnemyVehicle from \"../classes/vehicles/enemies/EnemyVehicle\";\r\n\r\nexport enum PLAYER_SPEED {\r\n    NONE = 0,\r\n    FORWARD = 100,\r\n    BACKWARD = -100\r\n};\r\n\r\nexport enum TURNS {\r\n    NONE = 0,\r\n    RIGHT = 1.3,\r\n    LEFT = -1.3\r\n};\r\n\r\nexport enum SPEED {\r\n    BASIC = 150,\r\n    FASTER = 690, // enemy shell`s speed\r\n    FASTEST = 1000 // player shell`s speed\r\n};\r\n\r\nexport const GROUND_FRICTION = 0.5;\r\nexport const FRICTIONS = {\r\n    \"lake\": 0.1,\r\n    \"road\": 1\r\n};\r\n\r\nexport type StartPosition = {\r\n    x: number,\r\n    y: number\r\n};\r\n\r\nexport type LevelData = {\r\n    nextLevelNumber: string,\r\n    nextLevelName: string,\r\n    multiplayerGame: boolean,\r\n    firstPlayer: {\r\n        vehicle: string,\r\n        shellType: string,\r\n        experience: number,\r\n        tanksPerLevel: number,\r\n        bmpPerLevel: number,\r\n        btrPerLevel: number\r\n    },\r\n    secondPlayer: {\r\n        vehicle: string,\r\n        shellType: string,\r\n        experience: number,\r\n        tanksPerLevel: number,\r\n        bmpPerLevel: number,\r\n        btrPerLevel: number\r\n    }\r\n};\r\n\r\nexport const BANG_ANIMATION: string = \"BANG_ANIMATION\";\r\nexport const RADAR_ANIMATION: string = \"RADAR_ANIMATION\";\r\nexport const SPARKLE_ANIMATION: string = \"SPARKLE_ANIMATION\";\r\nexport const SHOOTING_ANIMATION: string = \"SHOOTING_ANIMATION\";\r\nexport const XPOINTS_1_ANIMATION: string = \"XPOINTS_1_ANIMATION\";\r\nexport const XPOINTS_2_ANIMATION: string = \"XPOINTS_2_ANIMATION\";\r\nexport const XPOINTS_3_ANIMATION: string = \"XPOINTS_3_ANIMATION\";\r\n\r\nexport enum DIRECTION {\r\n    RIGHT = \"RIGHT\",\r\n    DOWN = \"DOWN\",\r\n    LEFT = \"LEFT\",\r\n    UP = \"UP\"\r\n};\r\n\r\nexport const ENEMY = {\r\n    TANK: {\r\n        TYPE: \"TANK\",\r\n        SPEED: 60,\r\n        ARMOUR: 150,\r\n        SHELL_POWER: 45,\r\n        SHELL_TYPE: \"bulletDark3\"\r\n    },\r\n    BMP: {\r\n        TYPE: \"BMP\",\r\n        SPEED: 120,\r\n        ARMOUR: 70,\r\n        SHELL_POWER: 26,\r\n        SHELL_TYPE: \"bulletDark2\"\r\n    },\r\n    BTR: {\r\n        TYPE: \"BTR\",\r\n        SPEED: 190,\r\n        ARMOUR: 56,\r\n        SHELL_POWER: 13,\r\n        SHELL_TYPE: \"bulletDark1\"\r\n    },\r\n    TURRET: {\r\n        ARMOUR: 200,\r\n        SHELL_POWER: 45,\r\n        SHELL_TYPE: \"bulletDark3\"\r\n    }\r\n};\r\n\r\nexport const PLAYER = {\r\n    TANK: {\r\n        SPEED: 100,\r\n        ARMOUR: 100,\r\n        SHELL_POWER: 60,\r\n        SHELL_TYPE: \"bulletRed2\"\r\n    },\r\n    BMP: {\r\n        SPEED: 140,\r\n        ARMOUR: 77,\r\n        SHELL_POWER: 30,\r\n        SHELL_TYPE: \"bulletSand1\"\r\n    },\r\n};\r\n\r\nexport function handleDirection(enemy: EnemyVehicle): void {\r\n    switch (enemy.direction) {\r\n        case DIRECTION.DOWN:\r\n            enemy.body.y -= 10;\r\n            break;\r\n        case DIRECTION.LEFT:\r\n            enemy.body.x += 10;\r\n            break;\r\n        case DIRECTION.UP:\r\n            enemy.body.y += 10;\r\n            break;\r\n        case DIRECTION.RIGHT:\r\n            enemy.body.x -= 10;\r\n            break;\r\n    }\r\n}\r\n\r\nexport function createText(scene: Phaser.Scene, positionX: number, positionY: number, text: string, style: Phaser.Types.GameObjects.Text.TextStyle): Phaser.GameObjects.Text {\r\n    return scene.add.text(positionX, positionY, text, style).setOrigin(0);\r\n}\r\n\r\nexport function createTextButton(scene: Phaser.Scene, height: number, text: string, style: Phaser.Types.GameObjects.Text.TextStyle, textButtonWidth?: number): Phaser.GameObjects.Text {\r\n    const textButton: Phaser.GameObjects.Text = createText(scene, 0, 0, text, style);\r\n    const width: number = textButtonWidth ? textButtonWidth : textButton.width;\r\n    textButton.setX(window.innerWidth / 2 - width / 2);\r\n    textButton.setY(window.innerHeight / 2 + height);\r\n    textButton.setInteractive({ useHandCursor: true });\r\n    return textButton;\r\n}\r\n\r\nexport function createRectangleFrame(scene: Phaser.Scene, x: number, y: number): Phaser.GameObjects.Graphics {\r\n    const rectFrame: Phaser.GameObjects.Graphics = scene.add.graphics();\r\n    rectFrame.lineStyle(8, 0xE7590D, 1);\r\n    rectFrame.strokeRoundedRect(x, y, 80, 100, 8);\r\n    rectFrame.visible = false;\r\n    return rectFrame;\r\n}\r\n\r\nexport function createLevelText(scene: Phaser.Scene, positionX: number, positionY: number, text: string, style: Phaser.Types.GameObjects.Text.TextStyle): Phaser.GameObjects.Text {\r\n    const levelText: Phaser.GameObjects.Text = createText(scene, positionX, positionY, text, style);\r\n    levelText.depth = 10;\r\n    return levelText;\r\n}\r\n\r\nexport function getPlayersRank(experience: number): string {\r\n    if ((experience >= 10) && (experience < 20)) {\r\n        return \"lieutenant\";\r\n    } else if ((experience >= 20) && (experience < 30)) {\r\n        return \"captain\";\r\n    } else if ((experience >= 30) && (experience < 50)) {\r\n        return \"major\";\r\n    } else if ((experience >= 50) && (experience < 75)) {\r\n        return \"lieutenant_colonel\";\r\n    } else if ((experience >= 75) && (experience < 100)) {\r\n        return \"colonel\";\r\n    } else if ((experience >= 100) && (experience < 150)) {\r\n        return \"brigadier\";\r\n    } else if ((experience >= 150) && (experience < 200)) {\r\n        return \"major_general\";\r\n    } else if (experience > 200) {\r\n        return \"lieutenant_general\";\r\n    } else return \"second_lieutenant\";\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/game.ts\");\n",""],"names":[],"sourceRoot":""}